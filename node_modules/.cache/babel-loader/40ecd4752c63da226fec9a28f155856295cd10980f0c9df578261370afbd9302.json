{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js\",\n  _s = $RefreshSig$();\n// src/pages/Exam.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORE_KEY = \"records\";\n\n// 소문자/문장부호 제거/공백정리\nconst norm = (s = \"\") => s.toLowerCase().replace(/[.,!?;:\"'()]/g, \"\").replace(/\\s+/g, \" \").trim();\nconst tokenize = (s = \"\") => norm(s).split(\" \").filter(Boolean);\n\n// 하이라이트 렌더링\nconst Highlight = ({\n  expected = [],\n  wrongIdxs = []\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 6,\n      flexWrap: \"wrap\",\n      marginTop: 8\n    },\n    children: expected.map((w, i) => {\n      const wrong = wrongIdxs.includes(i);\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          padding: \"4px 8px\",\n          borderRadius: 8,\n          fontWeight: 700,\n          background: wrong ? \"#3a1216\" : \"#102b1a\",\n          color: wrong ? \"#ff6b7a\" : \"#22c55e\",\n          border: `1px solid ${wrong ? \"#6f1d1b\" : \"#164e2a\"}`\n        },\n        children: w\n      }, `${w}-${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n};\n_c = Highlight;\nexport default function Exam() {\n  _s();\n  const nav = useNavigate();\n  const {\n    state\n  } = useLocation(); // Home/Learn에서 넘긴 {name,date}\n  const {\n    day\n  } = useParams();\n  const [idx, setIdx] = useState(0); // 현재 문제 index\n  const [heard, setHeard] = useState(\"\"); // 음성 인식된 문자열\n  const [expectedTokens, setExpectedTokens] = useState([]);\n  const [wrongIdxs, setWrongIdxs] = useState([]);\n  const [listening, setListening] = useState(false);\n  const list = useMemo(() => QUESTIONS[day] || [], [day]);\n  const q = list[idx];\n\n  // Web Speech API 설정\n  const recognitionRef = useRef(null);\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert(\"이 브라우저는 음성 인식을 지원하지 않습니다. Chrome 최신 버전을 권장합니다.\");\n      return;\n    }\n    const rec = new SpeechRecognition();\n    rec.lang = \"en-US\";\n    rec.interimResults = false; // 중간결과 X\n    rec.maxAlternatives = 1;\n    rec.onstart = () => setListening(true);\n    rec.onend = () => setListening(false);\n    rec.onerror = e => {\n      console.error(\"SpeechRecognition error\", e);\n      setListening(false);\n    };\n    rec.onresult = e => {\n      const transcript = e.results[0][0].transcript || \"\";\n      setHeard(transcript);\n      // 들은 즉시 채점\n      if (q) {\n        const expTokens = tokenize(q.enChunks.join(\" \"));\n        setExpectedTokens(expTokens);\n        const user = tokenize(transcript);\n        const wrong = [];\n        expTokens.forEach((exp, i) => {\n          const u = user[i] || \"\";\n          if (u === exp) return;\n          if (u + \"s\" === exp || u === exp + \"s\") return; // 복수형 약허용\n          wrong.push(i);\n        });\n        setWrongIdxs(wrong);\n      }\n    };\n    recognitionRef.current = rec;\n    return () => {\n      try {\n        rec.abort();\n      } catch {}\n    };\n  }, [q]);\n\n  // 현재 문제 바뀌면 표시 초기화\n  useEffect(() => {\n    setHeard(\"\");\n    setWrongIdxs([]);\n    if (q) setExpectedTokens(tokenize(q.enChunks.join(\" \")));\n  }, [idx, q]);\n  if (!q) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uBB38\\uC81C\\uAC00 \\uC5C6\\uC5B4\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav(\"/\"),\n            children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  }\n  const startSpeak = async () => {\n    // HTTPS 환경 또는 localhost에서만 동작. 첫 사용 시 권한 요청.\n    try {\n      var _navigator$mediaDevic;\n      if ((_navigator$mediaDevic = navigator.mediaDevices) !== null && _navigator$mediaDevic !== void 0 && _navigator$mediaDevic.getUserMedia) {\n        await navigator.mediaDevices.getUserMedia({\n          audio: true\n        });\n      }\n    } catch (e) {\n      console.warn(\"마이크 권한 거부 또는 오류\", e);\n    }\n    try {\n      var _recognitionRef$curre;\n      (_recognitionRef$curre = recognitionRef.current) === null || _recognitionRef$curre === void 0 ? void 0 : _recognitionRef$curre.start();\n    } catch (e) {\n      console.warn(\"start() 중복 호출\", e);\n    }\n  };\n  const stopSpeak = () => {\n    try {\n      var _recognitionRef$curre2;\n      (_recognitionRef$curre2 = recognitionRef.current) === null || _recognitionRef$curre2 === void 0 ? void 0 : _recognitionRef$curre2.stop();\n    } catch {}\n  };\n  const checkAndSave = () => {\n    // 채점 결과(heard, wrongIdxs)가 이미 세팅되어 있음\n    const rec = {\n      name: (state === null || state === void 0 ? void 0 : state.name) || \"\",\n      date: (state === null || state === void 0 ? void 0 : state.date) || new Date().toISOString().slice(0, 10),\n      day,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: expectedTokens,\n      full: q.full,\n      user: heard,\n      wrongIdxs,\n      totalChunks: expectedTokens.length,\n      score: expectedTokens.length - wrongIdxs.length,\n      ts: Date.now()\n    };\n    const prev = JSON.parse(localStorage.getItem(STORE_KEY) || \"[]\");\n    localStorage.setItem(STORE_KEY, JSON.stringify([...prev, rec]));\n  };\n  const next = () => {\n    if (idx < list.length - 1) {\n      setIdx(v => v + 1);\n    } else {\n      // 시험 모두 완료 → 결과/기록 페이지로 이동\n      nav(\"/records\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: [\"\\uC2DC\\uD5D8 \\xB7 \\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"yellow\",\n        children: q.koChunks.join(\" / \")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), !!expectedTokens.length && /*#__PURE__*/_jsxDEV(Highlight, {\n        expected: expectedTokens,\n        wrongIdxs: wrongIdxs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          padding: \"10px 12px\",\n          border: \"1px dashed #333\",\n          borderRadius: 10,\n          color: \"#a1a1aa\"\n        },\n        children: heard ? heard : listening ? \"듣는 중…\" : \"아직 인식된 문장이 없어요.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: startSpeak,\n          disabled: listening,\n          children: listening ? \"듣는 중…\" : \"말하기\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: stopSpeak,\n          children: \"\\uC815\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: checkAndSave,\n          disabled: !heard,\n          title: !heard ? \"먼저 말하기로 문장을 인식하세요\" : \"\",\n          children: \"\\uCC44\\uC810/\\uAE30\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: next,\n          children: idx < list.length - 1 ? \"다음 문장\" : \"기록 보기\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n_s(Exam, \"gY1LQgjbTNz+iD+HYgR30G/qh4c=\", false, function () {\n  return [useNavigate, useLocation, useParams];\n});\n_c2 = Exam;\nvar _c, _c2;\n$RefreshReg$(_c, \"Highlight\");\n$RefreshReg$(_c2, \"Exam\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useLocation","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","STORE_KEY","norm","s","toLowerCase","replace","trim","tokenize","split","filter","Boolean","Highlight","expected","wrongIdxs","style","display","gap","flexWrap","marginTop","children","map","w","i","wrong","includes","padding","borderRadius","fontWeight","background","color","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","Exam","_s","nav","state","day","idx","setIdx","heard","setHeard","expectedTokens","setExpectedTokens","setWrongIdxs","listening","setListening","list","q","recognitionRef","SpeechRecognition","window","webkitSpeechRecognition","alert","rec","lang","interimResults","maxAlternatives","onstart","onend","onerror","e","console","error","onresult","transcript","results","expTokens","enChunks","join","user","forEach","exp","u","push","current","abort","className","onClick","startSpeak","_navigator$mediaDevic","navigator","mediaDevices","getUserMedia","audio","warn","_recognitionRef$curre","start","stopSpeak","_recognitionRef$curre2","stop","checkAndSave","name","date","Date","toISOString","slice","qid","id","koChunks","full","totalChunks","length","score","ts","now","prev","JSON","parse","localStorage","getItem","setItem","stringify","next","v","maxWidth","disabled","title","_c2","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js"],"sourcesContent":["// src/pages/Exam.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\nconst STORE_KEY = \"records\";\n\n// 소문자/문장부호 제거/공백정리\nconst norm = (s = \"\") =>\n  s.toLowerCase().replace(/[.,!?;:\"'()]/g, \"\").replace(/\\s+/g, \" \").trim();\n\nconst tokenize = (s = \"\") => norm(s).split(\" \").filter(Boolean);\n\n// 하이라이트 렌더링\nconst Highlight = ({ expected = [], wrongIdxs = [] }) => {\n  return (\n    <div style={{ display: \"flex\", gap: 6, flexWrap: \"wrap\", marginTop: 8 }}>\n      {expected.map((w, i) => {\n        const wrong = wrongIdxs.includes(i);\n        return (\n          <span\n            key={`${w}-${i}`}\n            style={{\n              padding: \"4px 8px\",\n              borderRadius: 8,\n              fontWeight: 700,\n              background: wrong ? \"#3a1216\" : \"#102b1a\",\n              color: wrong ? \"#ff6b7a\" : \"#22c55e\",\n              border: `1px solid ${wrong ? \"#6f1d1b\" : \"#164e2a\"}`,\n            }}\n          >\n            {w}\n          </span>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default function Exam() {\n  const nav = useNavigate();\n  const { state } = useLocation(); // Home/Learn에서 넘긴 {name,date}\n  const { day } = useParams();\n\n  const [idx, setIdx] = useState(0); // 현재 문제 index\n  const [heard, setHeard] = useState(\"\"); // 음성 인식된 문자열\n  const [expectedTokens, setExpectedTokens] = useState([]);\n  const [wrongIdxs, setWrongIdxs] = useState([]);\n  const [listening, setListening] = useState(false);\n\n  const list = useMemo(() => QUESTIONS[day] || [], [day]);\n  const q = list[idx];\n\n  // Web Speech API 설정\n  const recognitionRef = useRef(null);\n  useEffect(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      alert(\"이 브라우저는 음성 인식을 지원하지 않습니다. Chrome 최신 버전을 권장합니다.\");\n      return;\n    }\n    const rec = new SpeechRecognition();\n    rec.lang = \"en-US\";\n    rec.interimResults = false; // 중간결과 X\n    rec.maxAlternatives = 1;\n\n    rec.onstart = () => setListening(true);\n    rec.onend = () => setListening(false);\n    rec.onerror = (e) => {\n      console.error(\"SpeechRecognition error\", e);\n      setListening(false);\n    };\n    rec.onresult = (e) => {\n      const transcript = e.results[0][0].transcript || \"\";\n      setHeard(transcript);\n      // 들은 즉시 채점\n      if (q) {\n        const expTokens = tokenize(q.enChunks.join(\" \"));\n        setExpectedTokens(expTokens);\n        const user = tokenize(transcript);\n        const wrong = [];\n        expTokens.forEach((exp, i) => {\n          const u = user[i] || \"\";\n          if (u === exp) return;\n          if (u + \"s\" === exp || u === exp + \"s\") return; // 복수형 약허용\n          wrong.push(i);\n        });\n        setWrongIdxs(wrong);\n      }\n    };\n\n    recognitionRef.current = rec;\n    return () => {\n      try {\n        rec.abort();\n      } catch {}\n    };\n  }, [q]);\n\n  // 현재 문제 바뀌면 표시 초기화\n  useEffect(() => {\n    setHeard(\"\");\n    setWrongIdxs([]);\n    if (q) setExpectedTokens(tokenize(q.enChunks.join(\" \")));\n  }, [idx, q]);\n\n  if (!q) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <h2>문제가 없어요</h2>\n          <div className=\"nav\">\n            <button className=\"btn\" onClick={() => nav(\"/\")}>\n              처음으로\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const startSpeak = async () => {\n    // HTTPS 환경 또는 localhost에서만 동작. 첫 사용 시 권한 요청.\n    try {\n      if (navigator.mediaDevices?.getUserMedia) {\n        await navigator.mediaDevices.getUserMedia({ audio: true });\n      }\n    } catch (e) {\n      console.warn(\"마이크 권한 거부 또는 오류\", e);\n    }\n    try {\n      recognitionRef.current?.start();\n    } catch (e) {\n      console.warn(\"start() 중복 호출\", e);\n    }\n  };\n\n  const stopSpeak = () => {\n    try {\n      recognitionRef.current?.stop();\n    } catch {}\n  };\n\n  const checkAndSave = () => {\n    // 채점 결과(heard, wrongIdxs)가 이미 세팅되어 있음\n    const rec = {\n      name: state?.name || \"\",\n      date: state?.date || new Date().toISOString().slice(0, 10),\n      day,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: expectedTokens,\n      full: q.full,\n      user: heard,\n      wrongIdxs,\n      totalChunks: expectedTokens.length,\n      score: expectedTokens.length - wrongIdxs.length,\n      ts: Date.now(),\n    };\n    const prev = JSON.parse(localStorage.getItem(STORE_KEY) || \"[]\");\n    localStorage.setItem(STORE_KEY, JSON.stringify([...prev, rec]));\n  };\n\n  const next = () => {\n    if (idx < list.length - 1) {\n      setIdx((v) => v + 1);\n    } else {\n      // 시험 모두 완료 → 결과/기록 페이지로 이동\n      nav(\"/records\");\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ maxWidth: 1000 }}>\n        <h1 className=\"title\">시험 · 문제 {idx + 1} / {list.length}</h1>\n\n        {/* 한국어 청크만 표기 — 영어 정답은 숨김 */}\n        <p className=\"yellow\">{q.koChunks.join(\" / \")}</p>\n\n        {/* 채점 결과 하이라이트 (정답 단어가 노출되지만 이미 학생 발화 후 피드백용) */}\n        {!!expectedTokens.length && (\n          <Highlight expected={expectedTokens} wrongIdxs={wrongIdxs} />\n        )}\n\n        {/* 인식된 문장 (학생 피드백용) */}\n        <div\n          style={{\n            marginTop: 12,\n            padding: \"10px 12px\",\n            border: \"1px dashed #333\",\n            borderRadius: 10,\n            color: \"#a1a1aa\",\n          }}\n        >\n          {heard ? heard : (listening ? \"듣는 중…\" : \"아직 인식된 문장이 없어요.\")}\n        </div>\n\n        <div className=\"nav\" style={{ marginTop: 12 }}>\n          <button className=\"btn primary\" onClick={startSpeak} disabled={listening}>\n            {listening ? \"듣는 중…\" : \"말하기\"}\n          </button>\n          <button className=\"btn\" onClick={stopSpeak}>\n            정지\n          </button>\n          <button\n            className=\"btn\"\n            onClick={checkAndSave}\n            disabled={!heard}\n            title={!heard ? \"먼저 말하기로 문장을 인식하세요\" : \"\"}\n          >\n            채점/기록\n          </button>\n          <button className=\"btn\" onClick={next}>\n            {idx < list.length - 1 ? \"다음 문장\" : \"기록 보기\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}