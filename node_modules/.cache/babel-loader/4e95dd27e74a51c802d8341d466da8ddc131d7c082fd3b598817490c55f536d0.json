{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/Exam.js\nimport React, { useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ====== 공통 유틸 ======\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst en = s => (s === null || s === void 0 ? void 0 : s.toLowerCase().replace(/[^\\w\\s]/g, \"\").replace(/\\s+/g, \" \").trim()) || \"\";\nconst tok = s => en(s).split(\" \").filter(Boolean);\nfunction speak(text, rate = 0.9) {\n  if (!window.speechSynthesis) return;\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate;\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n}\nfunction useRecognizer(onResult) {\n  _s();\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n  React.useEffect(() => {\n    const Ctor = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!Ctor) return;\n    const rec = new Ctor();\n    rec.lang = \"en-US\";\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    rec.onresult = e => {\n      var _e$results, _e$results$, _e$results$$;\n      const text = ((_e$results = e.results) === null || _e$results === void 0 ? void 0 : (_e$results$ = _e$results[0]) === null || _e$results$ === void 0 ? void 0 : (_e$results$$ = _e$results$[0]) === null || _e$results$$ === void 0 ? void 0 : _e$results$$.transcript) || \"\";\n      onResult === null || onResult === void 0 ? void 0 : onResult(text);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n    recRef.current = rec;\n  }, [onResult]);\n  const start = () => {\n    if (recRef.current && !listening) {\n      setListening(true);\n      recRef.current.start();\n    }\n  };\n  const stop = () => {\n    try {\n      var _recRef$current;\n      (_recRef$current = recRef.current) === null || _recRef$current === void 0 ? void 0 : _recRef$current.stop();\n    } catch {}\n    setListening(false);\n  };\n  return {\n    listening,\n    start,\n    stop\n  };\n}\n_s(useRecognizer, \"NNIXggjAEsWLlwByFr0BSSgGzPg=\");\nfunction compare(expected, spoken) {\n  const exp = tok(expected);\n  const sp = tok(spoken);\n  const wrongIdxs = [];\n  exp.forEach((w, i) => {\n    const u = sp[i] || \"\";\n    if (u === w) return;\n    if (u + \"s\" === w || u === w + \"s\") return; // 복수형 관용 허용\n    wrongIdxs.push(i);\n  });\n  return {\n    wrongIdxs,\n    total: exp.length,\n    score: exp.length - wrongIdxs.length\n  };\n}\n\n// ====== 컴포넌트 ======\nexport default function Exam() {\n  _s2();\n  var _q$koChunks;\n  const {\n    day\n  } = useParams();\n  const nav = useNavigate();\n  const {\n    state\n  } = useLocation();\n  const name = (state === null || state === void 0 ? void 0 : state.name) || localStorage.getItem(\"student_name\") || \"\";\n  const date = (state === null || state === void 0 ? void 0 : state.date) || localStorage.getItem(\"study_date\") || new Date().toISOString().slice(0, 10);\n  const list = useMemo(() => (QUESTIONS === null || QUESTIONS === void 0 ? void 0 : QUESTIONS[day]) || [], [day]);\n  const [idx, setIdx] = useState(0);\n  const [spoken, setSpoken] = useState(\"\");\n  const [checked, setChecked] = useState(false);\n  const rec = useRecognizer(text => setSpoken(text));\n  if (!list.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD574\\uB2F9 Day \\uC2DC\\uD5D8 \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n  const q = list[idx];\n  const ko = ((_q$koChunks = q.koChunks) === null || _q$koChunks === void 0 ? void 0 : _q$koChunks.join(\" / \")) || \"\";\n  const full = q.full || (q.enChunks || []).join(\" \");\n  const onCheck = () => {\n    // 채점 & 기록\n    const {\n      wrongIdxs,\n      total,\n      score\n    } = compare(full, spoken);\n    const recItem = {\n      type: \"SPEAK\",\n      name,\n      date,\n      day,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: tok(full),\n      // 토큰 기준 저장\n      full,\n      user: spoken,\n      wrongIdxs,\n      totalChunks: total,\n      score,\n      ts: Date.now()\n    };\n    const prev = JSON.parse(localStorage.getItem(\"records\") || \"[]\");\n    localStorage.setItem(\"records\", JSON.stringify([...prev, recItem]));\n    setChecked(true);\n  };\n  const onNext = () => {\n    setChecked(false);\n    setSpoken(\"\");\n    if (idx < list.length - 1) {\n      setIdx(idx + 1);\n    } else {\n      alert(\"시험이 끝났습니다. 결과 페이지에서 확인하세요.\");\n      nav(\"/records\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: 960\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: [\"\\uC2DC\\uD5D8 \\xB7 \\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"yellow\",\n        children: ko\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          marginTop: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => speak(full, 0.9),\n          children: \"\\uBB38\\uC7A5 \\uB4E3\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: () => {\n            var _window$speechSynthes, _window$speechSynthes2;\n            return (_window$speechSynthes = window.speechSynthesis) === null || _window$speechSynthes === void 0 ? void 0 : (_window$speechSynthes2 = _window$speechSynthes.cancel) === null || _window$speechSynthes2 === void 0 ? void 0 : _window$speechSynthes2.call(_window$speechSynthes);\n          },\n          children: \"\\uC815\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          marginTop: 12\n        },\n        children: [!rec.listening ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn purple\",\n          onClick: rec.start,\n          children: \"\\uB9D0\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: rec.stop,\n          children: \"\\uBA48\\uCD94\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => setSpoken(\"\"),\n          children: \"\\uC9C0\\uC6B0\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"subtitle\",\n          children: \"\\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), spoken ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"yellow\",\n          style: {\n            wordBreak: \"break-word\"\n          },\n          children: spoken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"\\uC544\\uC9C1 \\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: onCheck,\n          disabled: !spoken || checked,\n          children: \"\\uCC44\\uC810\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: onNext,\n          disabled: !checked,\n          children: \"\\uB2E4\\uC74C \\uBB38\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/records\"),\n          children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s2(Exam, \"UEjhKQ/ocZb0+Eon59SkKp3Z6Bs=\", false, function () {\n  return [useParams, useNavigate, useLocation, useRecognizer];\n});\n_c = Exam;\nvar _c;\n$RefreshReg$(_c, \"Exam\");","map":{"version":3,"names":["React","useMemo","useRef","useState","useLocation","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","en","s","toLowerCase","replace","trim","tok","split","filter","Boolean","speak","text","rate","window","speechSynthesis","u","SpeechSynthesisUtterance","lang","cancel","useRecognizer","onResult","_s","recRef","listening","setListening","useEffect","Ctor","SpeechRecognition","webkitSpeechRecognition","rec","interimResults","maxAlternatives","onresult","e","_e$results","_e$results$","_e$results$$","results","transcript","onend","onerror","current","start","stop","_recRef$current","compare","expected","spoken","exp","sp","wrongIdxs","forEach","w","i","push","total","length","score","Exam","_s2","_q$koChunks","day","nav","state","name","localStorage","getItem","date","Date","toISOString","slice","list","idx","setIdx","setSpoken","checked","setChecked","className","children","fileName","_jsxFileName","lineNumber","columnNumber","q","ko","koChunks","join","full","enChunks","onCheck","recItem","type","qid","id","user","totalChunks","ts","now","prev","JSON","parse","setItem","stringify","onNext","alert","style","maxWidth","marginTop","onClick","_window$speechSynthes","_window$speechSynthes2","call","wordBreak","disabled","_c","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js"],"sourcesContent":["// src/pages/Exam.js\nimport React, { useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ====== 공통 유틸 ======\nconst en = (s) => s?.toLowerCase().replace(/[^\\w\\s]/g, \"\").replace(/\\s+/g, \" \").trim() || \"\";\nconst tok = (s) => en(s).split(\" \").filter(Boolean);\n\nfunction speak(text, rate = 0.9) {\n  if (!window.speechSynthesis) return;\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate;\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n}\n\nfunction useRecognizer(onResult) {\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n\n  React.useEffect(() => {\n    const Ctor = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!Ctor) return;\n    const rec = new Ctor();\n    rec.lang = \"en-US\";\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    rec.onresult = (e) => {\n      const text = e.results?.[0]?.[0]?.transcript || \"\";\n      onResult?.(text);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n    recRef.current = rec;\n  }, [onResult]);\n\n  const start = () => {\n    if (recRef.current && !listening) {\n      setListening(true);\n      recRef.current.start();\n    }\n  };\n  const stop = () => {\n    try {\n      recRef.current?.stop();\n    } catch {}\n    setListening(false);\n  };\n  return { listening, start, stop };\n}\n\nfunction compare(expected, spoken) {\n  const exp = tok(expected);\n  const sp = tok(spoken);\n  const wrongIdxs = [];\n  exp.forEach((w, i) => {\n    const u = sp[i] || \"\";\n    if (u === w) return;\n    if (u + \"s\" === w || u === w + \"s\") return; // 복수형 관용 허용\n    wrongIdxs.push(i);\n  });\n  return { wrongIdxs, total: exp.length, score: exp.length - wrongIdxs.length };\n}\n\n// ====== 컴포넌트 ======\nexport default function Exam() {\n  const { day } = useParams();\n  const nav = useNavigate();\n  const { state } = useLocation();\n\n  const name = state?.name || localStorage.getItem(\"student_name\") || \"\";\n  const date = state?.date || localStorage.getItem(\"study_date\") || new Date().toISOString().slice(0, 10);\n\n  const list = useMemo(() => QUESTIONS?.[day] || [], [day]);\n  const [idx, setIdx] = useState(0);\n  const [spoken, setSpoken] = useState(\"\");\n  const [checked, setChecked] = useState(false);\n\n  const rec = useRecognizer((text) => setSpoken(text));\n\n  if (!list.length) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\"><h2>해당 Day 시험 문장이 없어요.</h2></div>\n      </div>\n    );\n  }\n\n  const q = list[idx];\n  const ko = q.koChunks?.join(\" / \") || \"\";\n  const full = q.full || (q.enChunks || []).join(\" \");\n\n  const onCheck = () => {\n    // 채점 & 기록\n    const { wrongIdxs, total, score } = compare(full, spoken);\n\n    const recItem = {\n      type: \"SPEAK\",\n      name,\n      date,\n      day,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: tok(full), // 토큰 기준 저장\n      full,\n      user: spoken,\n      wrongIdxs,\n      totalChunks: total,\n      score,\n      ts: Date.now(),\n    };\n    const prev = JSON.parse(localStorage.getItem(\"records\") || \"[]\");\n    localStorage.setItem(\"records\", JSON.stringify([...prev, recItem]));\n    setChecked(true);\n  };\n\n  const onNext = () => {\n    setChecked(false);\n    setSpoken(\"\");\n    if (idx < list.length - 1) {\n      setIdx(idx + 1);\n    } else {\n      alert(\"시험이 끝났습니다. 결과 페이지에서 확인하세요.\");\n      nav(\"/records\");\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ maxWidth: 960 }}>\n        <h1 className=\"title\">시험 · 문제 {idx + 1} / {list.length}</h1>\n        <p className=\"yellow\">{ko}</p>\n\n        <div className=\"row\" style={{ marginTop: 8 }}>\n          <button className=\"btn\" onClick={() => speak(full, 0.9)}>문장 듣기</button>\n          <button className=\"btn danger\" onClick={() => window.speechSynthesis?.cancel?.()}>정지</button>\n        </div>\n\n        {/* 말하기 시험: 입력창 없이 음성만 */}\n        <div className=\"row\" style={{ marginTop: 12 }}>\n          {!rec.listening ? (\n            <button className=\"btn purple\" onClick={rec.start}>말하기</button>\n          ) : (\n            <button className=\"btn danger\" onClick={rec.stop}>멈추기</button>\n          )}\n          <button className=\"btn\" onClick={() => setSpoken(\"\")}>지우기</button>\n        </div>\n\n        <div style={{ marginTop: 10 }}>\n          <div className=\"subtitle\">인식된 문장</div>\n          {spoken ? (\n            <p className=\"yellow\" style={{ wordBreak: \"break-word\" }}>{spoken}</p>\n          ) : (\n            <p className=\"muted\">아직 인식된 문장이 없어요.</p>\n          )}\n        </div>\n\n        <div className=\"nav\" style={{ marginTop: 16 }}>\n          <button className=\"btn\" onClick={onCheck} disabled={!spoken || checked}>채점하기</button>\n          <button className=\"btn primary\" onClick={onNext} disabled={!checked}>다음 문장</button>\n          <button className=\"btn\" onClick={() => nav(\"/\")}>처음으로</button>\n          <button className=\"btn\" onClick={() => nav(\"/records\")}>기록 보기</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}