{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Learn.js\",\n  _s = $RefreshSig$();\n// src/pages/Lesson.js\nimport React, { useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ---------- helpers ----------\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeDay = d => String(d || \"\").toLowerCase().replace(/\\s+/g, \"\");\n\n// normalize & tokenize for 비교 채점\nconst norm = s => (s || \"\").toLowerCase().replace(/[.,!?;:\"'()]/g, \"\").replace(/\\s+/g, \" \").trim();\nconst tokenize = s => norm(s).split(\" \").filter(Boolean);\nconst sameLoose = (a, b) => a === b || a + \"s\" === b || a === b + \"s\";\n\n// ---------- TTS ----------\nconst speak = (text, {\n  rate = 1,\n  pitch = 1\n} = {}) => {\n  if (!window.speechSynthesis) {\n    alert(\"이 브라우저는 TTS를 지원하지 않습니다.\");\n    return;\n  }\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate;\n  u.pitch = pitch;\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n};\nconst stopSpeak = () => {\n  var _window$speechSynthes, _window$speechSynthes2;\n  return (_window$speechSynthes = window.speechSynthesis) === null || _window$speechSynthes === void 0 ? void 0 : (_window$speechSynthes2 = _window$speechSynthes.cancel) === null || _window$speechSynthes2 === void 0 ? void 0 : _window$speechSynthes2.call(_window$speechSynthes);\n};\n\n// ---------- SpeechRecognition (연습용) ----------\nconst SR = window.SpeechRecognition || window.webkitSpeechRecognition;\nexport default function Lesson() {\n  _s();\n  const {\n    day\n  } = useParams();\n  const dayKey = normalizeDay(day);\n  const {\n    state\n  } = useLocation();\n  const nav = useNavigate();\n  const list = useMemo(() => QUESTIONS[dayKey] || [], [dayKey]);\n  const [idx, setIdx] = useState(0);\n  const q = list[idx];\n\n  // 말하기 연습\n  const [listening, setListening] = useState(false);\n  const [recText, setRecText] = useState(\"\");\n  if (!q) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"\\uD559\\uC2B5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"\\uBB38\\uC81C\\uAC00 \\uC5C6\\uC5B4\\uC694. DAY\\uB97C \\uB2E4\\uC2DC \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav(\"/\"),\n            children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n  // ===== 듣기 핸들러 =====\n  const playChunk = (i, rate = 1.0) => {\n    const text = q.enChunks[i];\n    if (text) speak(text, {\n      rate\n    });\n  };\n  const playFull = (rate = 1.0) => speak(q.full, {\n    rate\n  });\n  const prev = () => {\n    stopSpeak();\n    setIdx(p => Math.max(0, p - 1));\n  };\n  const next = () => {\n    stopSpeak();\n    setIdx(p => Math.min(list.length - 1, p + 1));\n  };\n  const onLast = idx === list.length - 1;\n  const goExam = () => nav(`/exam/${dayKey}`, {\n    state: {\n      name: state === null || state === void 0 ? void 0 : state.name,\n      date: state === null || state === void 0 ? void 0 : state.date\n    }\n  });\n\n  // ===== 말하기 연습 =====\n  const startPractice = () => {\n    if (!SR) {\n      alert(\"이 브라우저는 음성 인식을 지원하지 않습니다 (Chrome 권장).\");\n      return;\n    }\n    setRecText(\"\");\n    const recog = new SR();\n    recog.lang = \"en-US\";\n    recog.interimResults = false;\n    recog.maxAlternatives = 1;\n    recog.onstart = () => setListening(true);\n    recog.onend = () => setListening(false);\n    recog.onerror = () => setListening(false);\n    recog.onresult = e => {\n      var _e$results, _e$results$, _e$results$$;\n      const text = ((_e$results = e.results) === null || _e$results === void 0 ? void 0 : (_e$results$ = _e$results[0]) === null || _e$results$ === void 0 ? void 0 : (_e$results$$ = _e$results$[0]) === null || _e$results$$ === void 0 ? void 0 : _e$results$$.transcript) || \"\";\n      setRecText(text);\n    };\n    recog.start();\n  };\n  const stopPractice = () => {\n    try {\n      const recog = new SR();\n      recog.stop();\n    } catch {}\n    setListening(false);\n  };\n\n  // 채점 표시용 토큰 비교\n  const expectedTokens = tokenize(q.enChunks.join(\" \"));\n  const userTokens = tokenize(recText);\n  const judged = expectedTokens.map((exp, i) => {\n    const u = userTokens[i] || \"\";\n    return {\n      token: exp,\n      ok: sameLoose(u, exp)\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: [\"\\uD559\\uC2B5 \\xB7 \\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"yellow\",\n        children: q.koChunks.join(\" / \")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        style: {\n          marginTop: 8\n        },\n        children: \"\\uCCAD\\uD06C \\uB4E3\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          flexWrap: \"wrap\",\n          gap: 8\n        },\n        children: q.enChunks.map((c, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          style: {\n            gap: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            title: `청크 ${i + 1}`,\n            onClick: () => playChunk(i, 1.0),\n            children: c\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            title: \"\\uB290\\uB9AC\\uAC8C\",\n            onClick: () => playChunk(i, 0.85),\n            children: \"\\uB290\\uB9AC\\uAC8C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            title: \"\\uC544\\uC8FC \\uB290\\uB9AC\\uAC8C\",\n            onClick: () => playChunk(i, 0.7),\n            children: \"\\uC544\\uC8FC \\uB290\\uB9AC\\uAC8C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        style: {\n          marginTop: 12\n        },\n        children: \"\\uBB38\\uC7A5 \\uC804\\uCCB4 \\uB4E3\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => playFull(1.0),\n          children: \"\\uC804\\uCCB4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => playFull(0.85),\n          children: \"\\uB290\\uB9AC\\uAC8C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => playFull(0.7),\n          children: \"\\uC544\\uC8FC \\uB290\\uB9AC\\uAC8C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: stopSpeak,\n          children: \"\\uC815\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subtitle\",\n        style: {\n          marginTop: 12\n        },\n        children: \"\\uB9D0\\uD558\\uAE30 \\uC5F0\\uC2B5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          gap: 8,\n          alignItems: \"center\",\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn ${listening ? \"danger\" : \"primary\"}`,\n          onClick: listening ? stopPractice : startPractice,\n          children: listening ? \"말하기 중지\" : \"말하기(연습)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: judged.length ? judged.map((t, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: t.ok ? \"word-ok\" : \"word-bad\",\n            style: {\n              marginRight: 6\n            },\n            children: t.token\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"muted\",\n            children: \"\\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: prev,\n          disabled: idx === 0,\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: next,\n          disabled: onLast,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), onLast && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: goExam,\n          children: \"\\uC2DC\\uD5D8 \\uC2DC\\uC791\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n_s(Lesson, \"A4w8lNsHiASCIgkZi70ejKFlgkQ=\", false, function () {\n  return [useParams, useLocation, useNavigate];\n});\n_c = Lesson;\nvar _c;\n$RefreshReg$(_c, \"Lesson\");","map":{"version":3,"names":["React","useMemo","useState","useLocation","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","normalizeDay","d","String","toLowerCase","replace","norm","s","trim","tokenize","split","filter","Boolean","sameLoose","a","b","speak","text","rate","pitch","window","speechSynthesis","alert","u","SpeechSynthesisUtterance","lang","cancel","stopSpeak","_window$speechSynthes","_window$speechSynthes2","call","SR","SpeechRecognition","webkitSpeechRecognition","Lesson","_s","day","dayKey","state","nav","list","idx","setIdx","q","listening","setListening","recText","setRecText","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","playChunk","i","enChunks","playFull","full","prev","p","Math","max","next","min","length","onLast","goExam","name","date","startPractice","recog","interimResults","maxAlternatives","onstart","onend","onerror","onresult","e","_e$results","_e$results$","_e$results$$","results","transcript","start","stopPractice","stop","expectedTokens","join","userTokens","judged","map","exp","token","ok","koChunks","style","marginTop","flexWrap","gap","c","title","alignItems","t","marginRight","disabled","_c","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Learn.js"],"sourcesContent":["// src/pages/Lesson.js\nimport React, { useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ---------- helpers ----------\nconst normalizeDay = (d) => String(d || \"\").toLowerCase().replace(/\\s+/g, \"\");\n\n// normalize & tokenize for 비교 채점\nconst norm = (s) =>\n  (s || \"\")\n    .toLowerCase()\n    .replace(/[.,!?;:\"'()]/g, \"\")\n    .replace(/\\s+/g, \" \")\n    .trim();\n\nconst tokenize = (s) => norm(s).split(\" \").filter(Boolean);\nconst sameLoose = (a, b) => a === b || a + \"s\" === b || a === b + \"s\";\n\n// ---------- TTS ----------\nconst speak = (text, { rate = 1, pitch = 1 } = {}) => {\n  if (!window.speechSynthesis) {\n    alert(\"이 브라우저는 TTS를 지원하지 않습니다.\");\n    return;\n  }\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate;\n  u.pitch = pitch;\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n};\nconst stopSpeak = () => window.speechSynthesis?.cancel?.();\n\n// ---------- SpeechRecognition (연습용) ----------\nconst SR = window.SpeechRecognition || window.webkitSpeechRecognition;\n\nexport default function Lesson() {\n  const { day } = useParams();\n  const dayKey = normalizeDay(day);\n  const { state } = useLocation();\n  const nav = useNavigate();\n\n  const list = useMemo(() => QUESTIONS[dayKey] || [], [dayKey]);\n  const [idx, setIdx] = useState(0);\n  const q = list[idx];\n\n  // 말하기 연습\n  const [listening, setListening] = useState(false);\n  const [recText, setRecText] = useState(\"\");\n\n  if (!q) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <h1 className=\"title\">학습</h1>\n          <p className=\"muted\">문제가 없어요. DAY를 다시 선택해 주세요.</p>\n          <div className=\"nav\">\n            <button className=\"btn\" onClick={() => nav(\"/\")}>처음으로</button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== 듣기 핸들러 =====\n  const playChunk = (i, rate = 1.0) => {\n    const text = q.enChunks[i];\n    if (text) speak(text, { rate });\n  };\n  const playFull = (rate = 1.0) => speak(q.full, { rate });\n\n  const prev = () => { stopSpeak(); setIdx((p) => Math.max(0, p - 1)); };\n  const next = () => { stopSpeak(); setIdx((p) => Math.min(list.length - 1, p + 1)); };\n\n  const onLast = idx === list.length - 1;\n  const goExam = () =>\n    nav(`/exam/${dayKey}`, { state: { name: state?.name, date: state?.date } });\n\n  // ===== 말하기 연습 =====\n  const startPractice = () => {\n    if (!SR) {\n      alert(\"이 브라우저는 음성 인식을 지원하지 않습니다 (Chrome 권장).\");\n      return;\n    }\n    setRecText(\"\");\n    const recog = new SR();\n    recog.lang = \"en-US\";\n    recog.interimResults = false;\n    recog.maxAlternatives = 1;\n\n    recog.onstart = () => setListening(true);\n    recog.onend = () => setListening(false);\n    recog.onerror = () => setListening(false);\n    recog.onresult = (e) => {\n      const text = e.results?.[0]?.[0]?.transcript || \"\";\n      setRecText(text);\n    };\n    recog.start();\n  };\n\n  const stopPractice = () => {\n    try { const recog = new SR(); recog.stop(); } catch {}\n    setListening(false);\n  };\n\n  // 채점 표시용 토큰 비교\n  const expectedTokens = tokenize(q.enChunks.join(\" \"));\n  const userTokens = tokenize(recText);\n  const judged = expectedTokens.map((exp, i) => {\n    const u = userTokens[i] || \"\";\n    return { token: exp, ok: sameLoose(u, exp) };\n  });\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <h1 className=\"title\">학습 · 문제 {idx + 1} / {list.length}</h1>\n        <p className=\"yellow\">{q.koChunks.join(\" / \")}</p>\n\n        {/* 청크 듣기: 실제 텍스트 + 2단계 더 느리게 */}\n        <div className=\"subtitle\" style={{ marginTop: 8 }}>청크 듣기</div>\n        <div className=\"row\" style={{ flexWrap: \"wrap\", gap: 8 }}>\n          {q.enChunks.map((c, i) => (\n            <div key={i} className=\"row\" style={{ gap: 6 }}>\n              <button className=\"btn\" title={`청크 ${i + 1}`} onClick={() => playChunk(i, 1.0)}>\n                {c}\n              </button>\n              <button className=\"btn\" title=\"느리게\" onClick={() => playChunk(i, 0.85)}>\n                느리게\n              </button>\n              <button className=\"btn\" title=\"아주 느리게\" onClick={() => playChunk(i, 0.7)}>\n                아주 느리게\n              </button>\n            </div>\n          ))}\n        </div>\n\n        {/* 전체 문장 듣기: 3단계 속도 */}\n        <div className=\"subtitle\" style={{ marginTop: 12 }}>문장 전체 듣기</div>\n        <div className=\"row\" style={{ gap: 8 }}>\n          <button className=\"btn\" onClick={() => playFull(1.0)}>전체</button>\n          <button className=\"btn\" onClick={() => playFull(0.85)}>느리게</button>\n          <button className=\"btn\" onClick={() => playFull(0.7)}>아주 느리게</button>\n          <button className=\"btn\" onClick={stopSpeak}>정지</button>\n        </div>\n\n        {/* 말하기 연습 (즉시 채점 색상) */}\n        <div className=\"subtitle\" style={{ marginTop: 12 }}>말하기 연습</div>\n        <div className=\"row\" style={{ gap: 8, alignItems: \"center\", flexWrap: \"wrap\" }}>\n          <button\n            className={`btn ${listening ? \"danger\" : \"primary\"}`}\n            onClick={listening ? stopPractice : startPractice}\n          >\n            {listening ? \"말하기 중지\" : \"말하기(연습)\"}\n          </button>\n          {/* 채점 뱃지 */}\n          <div>\n            {judged.length ? judged.map((t, i) => (\n              <span key={i} className={t.ok ? \"word-ok\" : \"word-bad\"} style={{ marginRight: 6 }}>\n                {t.token}\n              </span>\n            )) : <span className=\"muted\">인식된 문장이 없어요.</span>}\n          </div>\n        </div>\n\n        {/* 네비 + 시험 시작(마지막에서만) */}\n        <div className=\"nav\" style={{ marginTop: 16 }}>\n          <button className=\"btn\" onClick={prev} disabled={idx === 0}>이전</button>\n          <button className=\"btn\" onClick={next} disabled={onLast}>다음</button>\n          {onLast && (\n            <button className=\"btn primary\" onClick={goExam}>\n              시험 시작\n            </button>\n          )}\n          <button className=\"btn\" onClick={() => nav(\"/\")}>처음으로</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}