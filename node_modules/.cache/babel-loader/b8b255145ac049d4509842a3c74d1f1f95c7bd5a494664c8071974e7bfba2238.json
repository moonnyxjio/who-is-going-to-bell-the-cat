{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/Exam.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ----- 유틸 -----\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst norm = s => (s || \"\").toLowerCase().replace(/[“”\"‘’'.,!?;:()]/g, \"\").replace(/\\s+/g, \" \").trim();\nconst tokenize = s => norm(s).split(\" \").filter(Boolean);\n\n// 약간의 관용 허용(복수 s, a/an, 대소문자 등)\nconst eqWord = (a, b) => {\n  if (a === b) return true;\n  if (a + \"s\" === b || b + \"s\" === a) return true;\n  if (a === \"a\" && b === \"an\" || a === \"an\" && b === \"a\") return true;\n  return false;\n};\n\n// ----- Web Speech API 래퍼 -----\nfunction useSpeech() {\n  _s();\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n  const [text, setText] = useState(\"\");\n  useEffect(() => {\n    const SR = window.SpeechRecognition || window.webkitSpeechRecognition || null;\n    if (!SR) {\n      console.warn(\"SpeechRecognition not supported\");\n      return;\n    }\n    const rec = new SR();\n    rec.lang = \"en-US\";\n    rec.interimResults = true;\n    rec.continuous = true;\n    rec.onresult = e => {\n      let t = \"\";\n      for (let i = e.resultIndex; i < e.results.length; i++) {\n        t += e.results[i][0].transcript;\n      }\n      setText(t);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n    recRef.current = rec;\n    return () => {\n      try {\n        rec.stop();\n      } catch (_) {}\n    };\n  }, []);\n  const start = () => {\n    if (!recRef.current) return;\n    try {\n      setText(\"\");\n      recRef.current.start();\n      setListening(true);\n    } catch (_) {}\n  };\n  const stop = () => {\n    if (!recRef.current) return;\n    try {\n      recRef.current.stop();\n      setListening(false);\n    } catch (_) {}\n  };\n  return {\n    listening,\n    text,\n    setText,\n    start,\n    stop\n  };\n}\n\n// ----- 저장소 -----\n_s(useSpeech, \"cUF5PG/fGmj5L1DUnCv08XjHSsM=\");\nconst REC_KEY = \"records\";\nconst loadRecords = () => {\n  try {\n    return JSON.parse(localStorage.getItem(REC_KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n};\nconst saveRecord = rec => {\n  const prev = loadRecords();\n  localStorage.setItem(REC_KEY, JSON.stringify([...prev, rec]));\n};\n\n// ----- 컴포넌트 -----\nexport default function Exam() {\n  _s2();\n  const nav = useNavigate();\n  const {\n    day\n  } = useParams();\n  const {\n    state\n  } = useLocation(); // { name, date }가 들어옴\n  const name = (state === null || state === void 0 ? void 0 : state.name) || \"\";\n  const date = (state === null || state === void 0 ? void 0 : state.date) || new Date().toISOString().slice(0, 10);\n  const [idx, setIdx] = useState(0);\n  const [graded, setGraded] = useState(false);\n  const [score, setScore] = useState(0);\n  const [colored, setColored] = useState(null); // 단어별 색상 결과 JSX\n  const [wrongIdxs, setWrongIdxs] = useState([]);\n  const {\n    listening,\n    text,\n    setText,\n    start,\n    stop\n  } = useSpeech();\n  const list = useMemo(() => QUESTIONS[day] || [], [day]);\n  const q = list[idx];\n\n  // 문항 없을 때\n  if (!q) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"\\uC2DC\\uD5D8 \\uC900\\uBE44\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"muted\",\n          children: \"\\uBB38\\uC81C\\uAC00 \\uC5C6\\uC5B4\\uC694. Day\\uB97C \\uB2E4\\uC2DC \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav(\"/\"),\n            children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => nav(\"/records\"),\n            children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 채점\n  const handleGrade = () => {\n    const userTokens = tokenize(text);\n    const expectedTokens = tokenize(q.enChunks.join(\" \"));\n    const wrong = [];\n    const coloredSpans = expectedTokens.map((exp, i) => {\n      const user = userTokens[i] || \"\";\n      const ok = eqWord(user, exp);\n      if (!ok) wrong.push(i);\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: ok ? \"#22c55e\" : \"#ef4444\",\n          background: ok ? \"transparent\" : \"rgba(239,68,68,.1)\",\n          padding: \"2px 4px\",\n          borderRadius: 6,\n          marginRight: 4\n        },\n        children: user || /*#__PURE__*/_jsxDEV(\"em\", {\n          style: {\n            opacity: 0.6\n          },\n          children: exp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 20\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this);\n    });\n    setWrongIdxs(wrong);\n    setScore(expectedTokens.length - wrong.length);\n    setColored(/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10,\n        padding: \"8px 10px\",\n        background: \"rgba(255,255,255,.03)\",\n        border: \"1px solid rgba(255,255,255,.08)\",\n        borderRadius: 10\n      },\n      children: coloredSpans\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this));\n    setGraded(true);\n\n    // 저장(문항 단위)\n    saveRecord({\n      type: \"SPEAK\",\n      name,\n      date,\n      day,\n      qid: q.id,\n      ko: q.koChunks.join(\" / \"),\n      en: q.enChunks.join(\" \"),\n      user: norm(text),\n      wrongIdxs: wrong,\n      total: expectedTokens.length,\n      score: expectedTokens.length - wrong.length,\n      ts: Date.now()\n    });\n  };\n  const next = () => {\n    setGraded(false);\n    setColored(null);\n    setWrongIdxs([]);\n    setText(\"\");\n    if (idx < list.length - 1) {\n      setIdx(v => v + 1);\n    } else {\n      // 마지막 문제 끝 → 기록으로 이동(또는 처음으로)\n      nav(\"/records\");\n    }\n  };\n  const resetInput = () => {\n    setText(\"\");\n    setGraded(false);\n    setColored(null);\n    setWrongIdxs([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: [\"\\uC2DC\\uD5D8 \\xB7 \\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"yellow\",\n        children: q.koChunks.join(\" / \")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          flexWrap: \"wrap\",\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `btn ${listening ? \"danger\" : \"primary\"}`,\n          onClick: listening ? stop : start,\n          children: listening ? \"정지\" : \"말하기\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: resetInput,\n          children: \"\\uC9C0\\uC6B0\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 14,\n          padding: 12,\n          background: \"rgba(255,255,255,.03)\",\n          border: \"1px dashed rgba(255,255,255,.12)\",\n          borderRadius: 10,\n          minHeight: 56,\n          fontSize: 18\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          style: {\n            marginBottom: 6\n          },\n          children: \"\\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), graded ? colored : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            opacity: 0.9\n          },\n          children: text || \"아직 인식된 문장이 없어요.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          marginTop: 16\n        },\n        children: [!graded ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: handleGrade,\n          disabled: !text.trim(),\n          children: \"\\uCC44\\uC810\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            style: {\n              marginRight: 8\n            },\n            children: [\"\\uC810\\uC218: \", score, \" / \", tokenize(q.enChunks.join(\" \")).length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn purple\",\n            onClick: next,\n            children: \"\\uB2E4\\uC74C \\uBB38\\uC7A5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/records\"),\n          children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n}\n_s2(Exam, \"I4fIyHJFU/EomBwz9+ViCHvJ0ik=\", false, function () {\n  return [useNavigate, useParams, useLocation, useSpeech];\n});\n_c = Exam;\nvar _c;\n$RefreshReg$(_c, \"Exam\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useLocation","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","Fragment","_Fragment","norm","s","toLowerCase","replace","trim","tokenize","split","filter","Boolean","eqWord","a","b","useSpeech","_s","recRef","listening","setListening","text","setText","SR","window","SpeechRecognition","webkitSpeechRecognition","console","warn","rec","lang","interimResults","continuous","onresult","e","t","i","resultIndex","results","length","transcript","onend","onerror","current","stop","_","start","REC_KEY","loadRecords","JSON","parse","localStorage","getItem","saveRecord","prev","setItem","stringify","Exam","_s2","nav","day","state","name","date","Date","toISOString","slice","idx","setIdx","graded","setGraded","score","setScore","colored","setColored","wrongIdxs","setWrongIdxs","list","q","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","handleGrade","userTokens","expectedTokens","enChunks","join","wrong","coloredSpans","map","exp","user","ok","push","style","color","background","padding","borderRadius","marginRight","opacity","marginTop","border","type","qid","id","ko","koChunks","en","total","ts","now","next","v","resetInput","flexWrap","gap","minHeight","fontSize","marginBottom","disabled","_c","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js"],"sourcesContent":["// src/pages/Exam.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ----- 유틸 -----\nconst norm = (s) =>\n  (s || \"\")\n    .toLowerCase()\n    .replace(/[“”\"‘’'.,!?;:()]/g, \"\")\n    .replace(/\\s+/g, \" \")\n    .trim();\n\nconst tokenize = (s) => norm(s).split(\" \").filter(Boolean);\n\n// 약간의 관용 허용(복수 s, a/an, 대소문자 등)\nconst eqWord = (a, b) => {\n  if (a === b) return true;\n  if (a + \"s\" === b || b + \"s\" === a) return true;\n  if ((a === \"a\" && b === \"an\") || (a === \"an\" && b === \"a\")) return true;\n  return false;\n};\n\n// ----- Web Speech API 래퍼 -----\nfunction useSpeech() {\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n  const [text, setText] = useState(\"\");\n\n  useEffect(() => {\n    const SR =\n      window.SpeechRecognition || window.webkitSpeechRecognition || null;\n    if (!SR) {\n      console.warn(\"SpeechRecognition not supported\");\n      return;\n    }\n    const rec = new SR();\n    rec.lang = \"en-US\";\n    rec.interimResults = true;\n    rec.continuous = true;\n\n    rec.onresult = (e) => {\n      let t = \"\";\n      for (let i = e.resultIndex; i < e.results.length; i++) {\n        t += e.results[i][0].transcript;\n      }\n      setText(t);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n\n    recRef.current = rec;\n    return () => {\n      try {\n        rec.stop();\n      } catch (_) {}\n    };\n  }, []);\n\n  const start = () => {\n    if (!recRef.current) return;\n    try {\n      setText(\"\");\n      recRef.current.start();\n      setListening(true);\n    } catch (_) {}\n  };\n  const stop = () => {\n    if (!recRef.current) return;\n    try {\n      recRef.current.stop();\n      setListening(false);\n    } catch (_) {}\n  };\n\n  return { listening, text, setText, start, stop };\n}\n\n// ----- 저장소 -----\nconst REC_KEY = \"records\";\nconst loadRecords = () => {\n  try {\n    return JSON.parse(localStorage.getItem(REC_KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n};\nconst saveRecord = (rec) => {\n  const prev = loadRecords();\n  localStorage.setItem(REC_KEY, JSON.stringify([...prev, rec]));\n};\n\n// ----- 컴포넌트 -----\nexport default function Exam() {\n  const nav = useNavigate();\n  const { day } = useParams();\n  const { state } = useLocation(); // { name, date }가 들어옴\n  const name = state?.name || \"\";\n  const date = state?.date || new Date().toISOString().slice(0, 10);\n\n  const [idx, setIdx] = useState(0);\n  const [graded, setGraded] = useState(false);\n  const [score, setScore] = useState(0);\n  const [colored, setColored] = useState(null); // 단어별 색상 결과 JSX\n  const [wrongIdxs, setWrongIdxs] = useState([]);\n\n  const { listening, text, setText, start, stop } = useSpeech();\n\n  const list = useMemo(() => QUESTIONS[day] || [], [day]);\n  const q = list[idx];\n\n  // 문항 없을 때\n  if (!q) {\n    return (\n      <div className=\"container\">\n        <div className=\"card\">\n          <h1 className=\"title\">시험 준비</h1>\n          <p className=\"muted\">문제가 없어요. Day를 다시 선택해 주세요.</p>\n          <div className=\"nav\">\n            <button className=\"btn\" onClick={() => nav(\"/\")}>\n              처음으로\n            </button>\n            <button className=\"btn\" onClick={() => nav(\"/records\")}>\n              기록 보기\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // 채점\n  const handleGrade = () => {\n    const userTokens = tokenize(text);\n    const expectedTokens = tokenize(q.enChunks.join(\" \"));\n\n    const wrong = [];\n    const coloredSpans = expectedTokens.map((exp, i) => {\n      const user = userTokens[i] || \"\";\n      const ok = eqWord(user, exp);\n      if (!ok) wrong.push(i);\n      return (\n        <span\n          key={i}\n          style={{\n            color: ok ? \"#22c55e\" : \"#ef4444\",\n            background: ok ? \"transparent\" : \"rgba(239,68,68,.1)\",\n            padding: \"2px 4px\",\n            borderRadius: 6,\n            marginRight: 4,\n          }}\n        >\n          {user || <em style={{ opacity: 0.6 }}>{exp}</em>}\n        </span>\n      );\n    });\n\n    setWrongIdxs(wrong);\n    setScore(expectedTokens.length - wrong.length);\n    setColored(\n      <div\n        style={{\n          marginTop: 10,\n          padding: \"8px 10px\",\n          background: \"rgba(255,255,255,.03)\",\n          border: \"1px solid rgba(255,255,255,.08)\",\n          borderRadius: 10,\n        }}\n      >\n        {coloredSpans}\n      </div>\n    );\n    setGraded(true);\n\n    // 저장(문항 단위)\n    saveRecord({\n      type: \"SPEAK\",\n      name,\n      date,\n      day,\n      qid: q.id,\n      ko: q.koChunks.join(\" / \"),\n      en: q.enChunks.join(\" \"),\n      user: norm(text),\n      wrongIdxs: wrong,\n      total: expectedTokens.length,\n      score: expectedTokens.length - wrong.length,\n      ts: Date.now(),\n    });\n  };\n\n  const next = () => {\n    setGraded(false);\n    setColored(null);\n    setWrongIdxs([]);\n    setText(\"\");\n    if (idx < list.length - 1) {\n      setIdx((v) => v + 1);\n    } else {\n      // 마지막 문제 끝 → 기록으로 이동(또는 처음으로)\n      nav(\"/records\");\n    }\n  };\n\n  const resetInput = () => {\n    setText(\"\");\n    setGraded(false);\n    setColored(null);\n    setWrongIdxs([]);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\">\n        <h1 className=\"title\">\n          시험 · 문제 {idx + 1} / {list.length}\n        </h1>\n\n        {/* 한글 프롬프트 */}\n        <p className=\"yellow\">{q.koChunks.join(\" / \")}</p>\n\n        {/* 말하기 컨트롤 (듣기 제거됨) */}\n        <div className=\"nav\" style={{ flexWrap: \"wrap\", gap: 8 }}>\n          <button\n            className={`btn ${listening ? \"danger\" : \"primary\"}`}\n            onClick={listening ? stop : start}\n          >\n            {listening ? \"정지\" : \"말하기\"}\n          </button>\n          <button className=\"btn\" onClick={resetInput}>\n            지우기\n          </button>\n        </div>\n\n        {/* 인식된 문장 */}\n        <div\n          style={{\n            marginTop: 14,\n            padding: 12,\n            background: \"rgba(255,255,255,.03)\",\n            border: \"1px dashed rgba(255,255,255,.12)\",\n            borderRadius: 10,\n            minHeight: 56,\n            fontSize: 18,\n          }}\n        >\n          <div className=\"muted\" style={{ marginBottom: 6 }}>\n            인식된 문장\n          </div>\n          {graded ? (\n            colored\n          ) : (\n            <div style={{ opacity: 0.9 }}>{text || \"아직 인식된 문장이 없어요.\"}</div>\n          )}\n        </div>\n\n        {/* 채점/다음 */}\n        <div className=\"nav\" style={{ marginTop: 16 }}>\n          {!graded ? (\n            <button\n              className=\"btn primary\"\n              onClick={handleGrade}\n              disabled={!text.trim()}\n            >\n              채점하기\n            </button>\n          ) : (\n            <>\n              <div className=\"muted\" style={{ marginRight: 8 }}>\n                점수: {score} / {tokenize(q.enChunks.join(\" \")).length}\n              </div>\n              <button className=\"btn purple\" onClick={next}>\n                다음 문장\n              </button>\n            </>\n          )}\n          <button className=\"btn\" onClick={() => nav(\"/\")}>\n            처음으로\n          </button>\n          <button className=\"btn\" onClick={() => nav(\"/records\")}>\n            기록 보기\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnE,SAASC,WAAW,EAAEC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACtE,SAASC,SAAS,QAAQ,SAAS;;AAEnC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,IAAI,GAAIC,CAAC,IACb,CAACA,CAAC,IAAI,EAAE,EACLC,WAAW,CAAC,CAAC,CACbC,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAChCA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CACpBC,IAAI,CAAC,CAAC;AAEX,MAAMC,QAAQ,GAAIJ,CAAC,IAAKD,IAAI,CAACC,CAAC,CAAC,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC;;AAE1D;AACA,MAAMC,MAAM,GAAGA,CAACC,CAAC,EAAEC,CAAC,KAAK;EACvB,IAAID,CAAC,KAAKC,CAAC,EAAE,OAAO,IAAI;EACxB,IAAID,CAAC,GAAG,GAAG,KAAKC,CAAC,IAAIA,CAAC,GAAG,GAAG,KAAKD,CAAC,EAAE,OAAO,IAAI;EAC/C,IAAKA,CAAC,KAAK,GAAG,IAAIC,CAAC,KAAK,IAAI,IAAMD,CAAC,KAAK,IAAI,IAAIC,CAAC,KAAK,GAAI,EAAE,OAAO,IAAI;EACvE,OAAO,KAAK;AACd,CAAC;;AAED;AACA,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAMC,MAAM,GAAGxB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM,CAACyB,SAAS,EAAEC,YAAY,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0B,IAAI,EAAEC,OAAO,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAEpCH,SAAS,CAAC,MAAM;IACd,MAAM+B,EAAE,GACNC,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB,IAAI,IAAI;IACpE,IAAI,CAACH,EAAE,EAAE;MACPI,OAAO,CAACC,IAAI,CAAC,iCAAiC,CAAC;MAC/C;IACF;IACA,MAAMC,GAAG,GAAG,IAAIN,EAAE,CAAC,CAAC;IACpBM,GAAG,CAACC,IAAI,GAAG,OAAO;IAClBD,GAAG,CAACE,cAAc,GAAG,IAAI;IACzBF,GAAG,CAACG,UAAU,GAAG,IAAI;IAErBH,GAAG,CAACI,QAAQ,GAAIC,CAAC,IAAK;MACpB,IAAIC,CAAC,GAAG,EAAE;MACV,KAAK,IAAIC,CAAC,GAAGF,CAAC,CAACG,WAAW,EAAED,CAAC,GAAGF,CAAC,CAACI,OAAO,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;QACrDD,CAAC,IAAID,CAAC,CAACI,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAACI,UAAU;MACjC;MACAlB,OAAO,CAACa,CAAC,CAAC;IACZ,CAAC;IACDN,GAAG,CAACY,KAAK,GAAG,MAAMrB,YAAY,CAAC,KAAK,CAAC;IACrCS,GAAG,CAACa,OAAO,GAAG,MAAMtB,YAAY,CAAC,KAAK,CAAC;IAEvCF,MAAM,CAACyB,OAAO,GAAGd,GAAG;IACpB,OAAO,MAAM;MACX,IAAI;QACFA,GAAG,CAACe,IAAI,CAAC,CAAC;MACZ,CAAC,CAAC,OAAOC,CAAC,EAAE,CAAC;IACf,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,KAAK,GAAGA,CAAA,KAAM;IAClB,IAAI,CAAC5B,MAAM,CAACyB,OAAO,EAAE;IACrB,IAAI;MACFrB,OAAO,CAAC,EAAE,CAAC;MACXJ,MAAM,CAACyB,OAAO,CAACG,KAAK,CAAC,CAAC;MACtB1B,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOyB,CAAC,EAAE,CAAC;EACf,CAAC;EACD,MAAMD,IAAI,GAAGA,CAAA,KAAM;IACjB,IAAI,CAAC1B,MAAM,CAACyB,OAAO,EAAE;IACrB,IAAI;MACFzB,MAAM,CAACyB,OAAO,CAACC,IAAI,CAAC,CAAC;MACrBxB,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAOyB,CAAC,EAAE,CAAC;EACf,CAAC;EAED,OAAO;IAAE1B,SAAS;IAAEE,IAAI;IAAEC,OAAO;IAAEwB,KAAK;IAAEF;EAAK,CAAC;AAClD;;AAEA;AAAA3B,EAAA,CAtDSD,SAAS;AAuDlB,MAAM+B,OAAO,GAAG,SAAS;AACzB,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,IAAI;IACF,OAAOC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,OAAO,CAAC,IAAI,IAAI,CAAC;EAC1D,CAAC,CAAC,MAAM;IACN,OAAO,EAAE;EACX;AACF,CAAC;AACD,MAAMM,UAAU,GAAIxB,GAAG,IAAK;EAC1B,MAAMyB,IAAI,GAAGN,WAAW,CAAC,CAAC;EAC1BG,YAAY,CAACI,OAAO,CAACR,OAAO,EAAEE,IAAI,CAACO,SAAS,CAAC,CAAC,GAAGF,IAAI,EAAEzB,GAAG,CAAC,CAAC,CAAC;AAC/D,CAAC;;AAED;AACA,eAAe,SAAS4B,IAAIA,CAAA,EAAG;EAAAC,GAAA;EAC7B,MAAMC,GAAG,GAAG9D,WAAW,CAAC,CAAC;EACzB,MAAM;IAAE+D;EAAI,CAAC,GAAG9D,SAAS,CAAC,CAAC;EAC3B,MAAM;IAAE+D;EAAM,CAAC,GAAGjE,WAAW,CAAC,CAAC,CAAC,CAAC;EACjC,MAAMkE,IAAI,GAAG,CAAAD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEC,IAAI,KAAI,EAAE;EAC9B,MAAMC,IAAI,GAAG,CAAAF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,IAAI,KAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EAEjE,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGzE,QAAQ,CAAC,CAAC,CAAC;EACjC,MAAM,CAAC0E,MAAM,EAAEC,SAAS,CAAC,GAAG3E,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAAC4E,KAAK,EAAEC,QAAQ,CAAC,GAAG7E,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAAC8E,OAAO,EAAEC,UAAU,CAAC,GAAG/E,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACgF,SAAS,EAAEC,YAAY,CAAC,GAAGjF,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAM;IAAEwB,SAAS;IAAEE,IAAI;IAAEC,OAAO;IAAEwB,KAAK;IAAEF;EAAK,CAAC,GAAG5B,SAAS,CAAC,CAAC;EAE7D,MAAM6D,IAAI,GAAGpF,OAAO,CAAC,MAAMM,SAAS,CAAC6D,GAAG,CAAC,IAAI,EAAE,EAAE,CAACA,GAAG,CAAC,CAAC;EACvD,MAAMkB,CAAC,GAAGD,IAAI,CAACV,GAAG,CAAC;;EAEnB;EACA,IAAI,CAACW,CAAC,EAAE;IACN,oBACE7E,OAAA;MAAK8E,SAAS,EAAC,WAAW;MAAAC,QAAA,eACxB/E,OAAA;QAAK8E,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnB/E,OAAA;UAAI8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAChCnF,OAAA;UAAG8E,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAClDnF,OAAA;UAAK8E,SAAS,EAAC,KAAK;UAAAC,QAAA,gBAClB/E,OAAA;YAAQ8E,SAAS,EAAC,KAAK;YAACM,OAAO,EAAEA,CAAA,KAAM1B,GAAG,CAAC,GAAG,CAAE;YAAAqB,QAAA,EAAC;UAEjD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTnF,OAAA;YAAQ8E,SAAS,EAAC,KAAK;YAACM,OAAO,EAAEA,CAAA,KAAM1B,GAAG,CAAC,UAAU,CAAE;YAAAqB,QAAA,EAAC;UAExD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;;EAEA;EACA,MAAME,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,UAAU,GAAG9E,QAAQ,CAACY,IAAI,CAAC;IACjC,MAAMmE,cAAc,GAAG/E,QAAQ,CAACqE,CAAC,CAACW,QAAQ,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC;IAErD,MAAMC,KAAK,GAAG,EAAE;IAChB,MAAMC,YAAY,GAAGJ,cAAc,CAACK,GAAG,CAAC,CAACC,GAAG,EAAE1D,CAAC,KAAK;MAClD,MAAM2D,IAAI,GAAGR,UAAU,CAACnD,CAAC,CAAC,IAAI,EAAE;MAChC,MAAM4D,EAAE,GAAGnF,MAAM,CAACkF,IAAI,EAAED,GAAG,CAAC;MAC5B,IAAI,CAACE,EAAE,EAAEL,KAAK,CAACM,IAAI,CAAC7D,CAAC,CAAC;MACtB,oBACEnC,OAAA;QAEEiG,KAAK,EAAE;UACLC,KAAK,EAAEH,EAAE,GAAG,SAAS,GAAG,SAAS;UACjCI,UAAU,EAAEJ,EAAE,GAAG,aAAa,GAAG,oBAAoB;UACrDK,OAAO,EAAE,SAAS;UAClBC,YAAY,EAAE,CAAC;UACfC,WAAW,EAAE;QACf,CAAE;QAAAvB,QAAA,EAEDe,IAAI,iBAAI9F,OAAA;UAAIiG,KAAK,EAAE;YAAEM,OAAO,EAAE;UAAI,CAAE;UAAAxB,QAAA,EAAEc;QAAG;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC,GAT3ChD,CAAC;QAAA6C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAUF,CAAC;IAEX,CAAC,CAAC;IAEFR,YAAY,CAACe,KAAK,CAAC;IACnBnB,QAAQ,CAACgB,cAAc,CAACjD,MAAM,GAAGoD,KAAK,CAACpD,MAAM,CAAC;IAC9CmC,UAAU,cACRzE,OAAA;MACEiG,KAAK,EAAE;QACLO,SAAS,EAAE,EAAE;QACbJ,OAAO,EAAE,UAAU;QACnBD,UAAU,EAAE,uBAAuB;QACnCM,MAAM,EAAE,iCAAiC;QACzCJ,YAAY,EAAE;MAChB,CAAE;MAAAtB,QAAA,EAEDY;IAAY;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CACP,CAAC;IACDd,SAAS,CAAC,IAAI,CAAC;;IAEf;IACAjB,UAAU,CAAC;MACTsD,IAAI,EAAE,OAAO;MACb7C,IAAI;MACJC,IAAI;MACJH,GAAG;MACHgD,GAAG,EAAE9B,CAAC,CAAC+B,EAAE;MACTC,EAAE,EAAEhC,CAAC,CAACiC,QAAQ,CAACrB,IAAI,CAAC,KAAK,CAAC;MAC1BsB,EAAE,EAAElC,CAAC,CAACW,QAAQ,CAACC,IAAI,CAAC,GAAG,CAAC;MACxBK,IAAI,EAAE3F,IAAI,CAACiB,IAAI,CAAC;MAChBsD,SAAS,EAAEgB,KAAK;MAChBsB,KAAK,EAAEzB,cAAc,CAACjD,MAAM;MAC5BgC,KAAK,EAAEiB,cAAc,CAACjD,MAAM,GAAGoD,KAAK,CAACpD,MAAM;MAC3C2E,EAAE,EAAElD,IAAI,CAACmD,GAAG,CAAC;IACf,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,IAAI,GAAGA,CAAA,KAAM;IACjB9C,SAAS,CAAC,KAAK,CAAC;IAChBI,UAAU,CAAC,IAAI,CAAC;IAChBE,YAAY,CAAC,EAAE,CAAC;IAChBtD,OAAO,CAAC,EAAE,CAAC;IACX,IAAI6C,GAAG,GAAGU,IAAI,CAACtC,MAAM,GAAG,CAAC,EAAE;MACzB6B,MAAM,CAAEiD,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC,MAAM;MACL;MACA1D,GAAG,CAAC,UAAU,CAAC;IACjB;EACF,CAAC;EAED,MAAM2D,UAAU,GAAGA,CAAA,KAAM;IACvBhG,OAAO,CAAC,EAAE,CAAC;IACXgD,SAAS,CAAC,KAAK,CAAC;IAChBI,UAAU,CAAC,IAAI,CAAC;IAChBE,YAAY,CAAC,EAAE,CAAC;EAClB,CAAC;EAED,oBACE3E,OAAA;IAAK8E,SAAS,EAAC,WAAW;IAAAC,QAAA,eACxB/E,OAAA;MAAK8E,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnB/E,OAAA;QAAI8E,SAAS,EAAC,OAAO;QAAAC,QAAA,GAAC,iCACZ,EAACb,GAAG,GAAG,CAAC,EAAC,KAAG,EAACU,IAAI,CAACtC,MAAM;MAAA;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eAGLnF,OAAA;QAAG8E,SAAS,EAAC,QAAQ;QAAAC,QAAA,EAAEF,CAAC,CAACiC,QAAQ,CAACrB,IAAI,CAAC,KAAK;MAAC;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGlDnF,OAAA;QAAK8E,SAAS,EAAC,KAAK;QAACmB,KAAK,EAAE;UAAEqB,QAAQ,EAAE,MAAM;UAAEC,GAAG,EAAE;QAAE,CAAE;QAAAxC,QAAA,gBACvD/E,OAAA;UACE8E,SAAS,EAAE,OAAO5D,SAAS,GAAG,QAAQ,GAAG,SAAS,EAAG;UACrDkE,OAAO,EAAElE,SAAS,GAAGyB,IAAI,GAAGE,KAAM;UAAAkC,QAAA,EAEjC7D,SAAS,GAAG,IAAI,GAAG;QAAK;UAAA8D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACTnF,OAAA;UAAQ8E,SAAS,EAAC,KAAK;UAACM,OAAO,EAAEiC,UAAW;UAAAtC,QAAA,EAAC;QAE7C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAGNnF,OAAA;QACEiG,KAAK,EAAE;UACLO,SAAS,EAAE,EAAE;UACbJ,OAAO,EAAE,EAAE;UACXD,UAAU,EAAE,uBAAuB;UACnCM,MAAM,EAAE,kCAAkC;UAC1CJ,YAAY,EAAE,EAAE;UAChBmB,SAAS,EAAE,EAAE;UACbC,QAAQ,EAAE;QACZ,CAAE;QAAA1C,QAAA,gBAEF/E,OAAA;UAAK8E,SAAS,EAAC,OAAO;UAACmB,KAAK,EAAE;YAAEyB,YAAY,EAAE;UAAE,CAAE;UAAA3C,QAAA,EAAC;QAEnD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACLf,MAAM,GACLI,OAAO,gBAEPxE,OAAA;UAAKiG,KAAK,EAAE;YAAEM,OAAO,EAAE;UAAI,CAAE;UAAAxB,QAAA,EAAE3D,IAAI,IAAI;QAAiB;UAAA4D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAC/D;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAGNnF,OAAA;QAAK8E,SAAS,EAAC,KAAK;QAACmB,KAAK,EAAE;UAAEO,SAAS,EAAE;QAAG,CAAE;QAAAzB,QAAA,GAC3C,CAACX,MAAM,gBACNpE,OAAA;UACE8E,SAAS,EAAC,aAAa;UACvBM,OAAO,EAAEC,WAAY;UACrBsC,QAAQ,EAAE,CAACvG,IAAI,CAACb,IAAI,CAAC,CAAE;UAAAwE,QAAA,EACxB;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,gBAETnF,OAAA,CAAAE,SAAA;UAAA6E,QAAA,gBACE/E,OAAA;YAAK8E,SAAS,EAAC,OAAO;YAACmB,KAAK,EAAE;cAAEK,WAAW,EAAE;YAAE,CAAE;YAAAvB,QAAA,GAAC,gBAC5C,EAACT,KAAK,EAAC,KAAG,EAAC9D,QAAQ,CAACqE,CAAC,CAACW,QAAQ,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,CAACnD,MAAM;UAAA;YAAA0C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC,eACNnF,OAAA;YAAQ8E,SAAS,EAAC,YAAY;YAACM,OAAO,EAAE+B,IAAK;YAAApC,QAAA,EAAC;UAE9C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,eACT,CACH,eACDnF,OAAA;UAAQ8E,SAAS,EAAC,KAAK;UAACM,OAAO,EAAEA,CAAA,KAAM1B,GAAG,CAAC,GAAG,CAAE;UAAAqB,QAAA,EAAC;QAEjD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnF,OAAA;UAAQ8E,SAAS,EAAC,KAAK;UAACM,OAAO,EAAEA,CAAA,KAAM1B,GAAG,CAAC,UAAU,CAAE;UAAAqB,QAAA,EAAC;QAExD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC1B,GAAA,CAjMuBD,IAAI;EAAA,QACd5D,WAAW,EACPC,SAAS,EACPF,WAAW,EAUqBoB,SAAS;AAAA;AAAA6G,EAAA,GAbrCpE,IAAI;AAAA,IAAAoE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}