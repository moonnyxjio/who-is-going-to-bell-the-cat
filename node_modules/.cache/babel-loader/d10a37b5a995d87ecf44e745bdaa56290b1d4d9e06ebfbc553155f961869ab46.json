{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Learn.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/pages/Learn.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ====== 공통 유틸 ======\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst en = s => (s === null || s === void 0 ? void 0 : s.toLowerCase().replace(/[^\\w\\s]/g, \"\").replace(/\\s+/g, \" \").trim()) || \"\";\nconst tok = s => en(s).split(\" \").filter(Boolean);\n\n// Web Speech Synthesis (TTS)\nfunction speak(text, rate = 0.7) {\n  if (!window.speechSynthesis) return;\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate; // 기본 느리게\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n}\n\n// Web Speech Recognition (연습용 음성 인식)\nfunction useRecognizer(onResult) {\n  _s();\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n  useEffect(() => {\n    const Ctor = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!Ctor) return;\n    const rec = new Ctor();\n    rec.lang = \"en-US\";\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    rec.onresult = e => {\n      var _e$results, _e$results$, _e$results$$;\n      const text = ((_e$results = e.results) === null || _e$results === void 0 ? void 0 : (_e$results$ = _e$results[0]) === null || _e$results$ === void 0 ? void 0 : (_e$results$$ = _e$results$[0]) === null || _e$results$$ === void 0 ? void 0 : _e$results$$.transcript) || \"\";\n      onResult === null || onResult === void 0 ? void 0 : onResult(text);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n    recRef.current = rec;\n  }, [onResult]);\n  const start = () => {\n    if (recRef.current && !listening) {\n      setListening(true);\n      recRef.current.start();\n    }\n  };\n  const stop = () => {\n    try {\n      var _recRef$current;\n      (_recRef$current = recRef.current) === null || _recRef$current === void 0 ? void 0 : _recRef$current.stop();\n    } catch {}\n    setListening(false);\n  };\n  return {\n    listening,\n    start,\n    stop\n  };\n}\n\n// 부분 일치 하이라이트\n_s(useRecognizer, \"NNIXggjAEsWLlwByFr0BSSgGzPg=\");\nfunction Diff({\n  expected,\n  spoken\n}) {\n  const expT = tok(expected);\n  const spT = tok(spoken);\n  const out = expT.map((w, i) => {\n    var _spT$i;\n    const ok = spT[i] === w;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: ok ? \"#22c55e\" : \"#ef4444\",\n        fontWeight: 700\n      },\n      children: [(_spT$i = spT[i]) !== null && _spT$i !== void 0 ? _spT$i : \"·\", i < expT.length - 1 ? \" \" : \"\"]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: out\n  }, void 0, false);\n}\n\n// ====== 컴포넌트 ======\n_c = Diff;\nexport default function Learn() {\n  _s2();\n  var _q$koChunks;\n  const {\n    day\n  } = useParams();\n  const nav = useNavigate();\n\n  // 오늘 날짜 & 학생명은 홈에서 localStorage에 저장해 둔다고 가정\n  const studentName = localStorage.getItem(\"student_name\") || \"\";\n  const studyDate = localStorage.getItem(\"study_date\") || new Date().toISOString().slice(0, 10);\n  const list = useMemo(() => (QUESTIONS === null || QUESTIONS === void 0 ? void 0 : QUESTIONS[day]) || [], [day]);\n  const [idx, setIdx] = useState(0);\n\n  // 연습용\n  const [spoken, setSpoken] = useState(\"\");\n  const rec = useRecognizer(text => setSpoken(text));\n  const q = list[idx];\n\n  // 학습 진입 보호\n  useEffect(() => {\n    if (!list.length) {\n      alert(\"해당 Day에 학습할 문장이 없어요.\");\n      nav(\"/\");\n    }\n  }, [list.length, nav]);\n  if (!q) return null;\n  const ko = ((_q$koChunks = q.koChunks) === null || _q$koChunks === void 0 ? void 0 : _q$koChunks.join(\" / \")) || \"\";\n  const chunks = q.enChunks || [];\n  const full = q.full || chunks.join(\" \");\n  const onPrev = () => setIdx(v => Math.max(0, v - 1));\n  const onNext = () => setIdx(v => Math.min(list.length - 1, v + 1));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: 960\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: [\"\\uD559\\uC2B5 \\xB7 \\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"yellow\",\n        children: ko\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"subtitle\",\n        children: \"\\uCCAD\\uD06C \\uB4E3\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          flexWrap: \"wrap\"\n        },\n        children: chunks.map((c, i) => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => speak(c, 0.7),\n          children: c\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"subtitle\",\n        style: {\n          marginTop: 12\n        },\n        children: \"\\uBB38\\uC7A5 \\uC804\\uCCB4 \\uB4E3\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => speak(full, 1.0),\n          children: \"\\uC804\\uCCB4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => speak(full, 0.8),\n          children: \"\\uB290\\uB9AC\\uAC8C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => speak(full, 0.6),\n          children: \"\\uC544\\uC8FC \\uB290\\uB9AC\\uAC8C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: () => {\n            var _window$speechSynthes, _window$speechSynthes2;\n            return (_window$speechSynthes = window.speechSynthesis) === null || _window$speechSynthes === void 0 ? void 0 : (_window$speechSynthes2 = _window$speechSynthes.cancel) === null || _window$speechSynthes2 === void 0 ? void 0 : _window$speechSynthes2.call(_window$speechSynthes);\n          },\n          children: \"\\uC815\\uC9C0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"subtitle\",\n        style: {\n          marginTop: 12\n        },\n        children: \"\\uB9D0\\uD558\\uAE30 \\uC5F0\\uC2B5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: !rec.listening ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn purple\",\n          onClick: rec.start,\n          children: \"\\uB9D0\\uD558\\uAE30(\\uC5F0\\uC2B5)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn danger\",\n          onClick: rec.stop,\n          children: \"\\uBA48\\uCD94\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), spoken ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"yellow\",\n        style: {\n          marginTop: 8\n        },\n        children: /*#__PURE__*/_jsxDEV(Diff, {\n          expected: full,\n          spoken: spoken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        style: {\n          marginTop: 8\n        },\n        children: \"\\uC544\\uC9C1 \\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav\",\n        style: {\n          marginTop: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: onPrev,\n          disabled: idx === 0,\n          children: \"\\uC774\\uC804\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: onNext,\n          disabled: idx === list.length - 1,\n          children: \"\\uB2E4\\uC74C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), idx === list.length - 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn primary\",\n          onClick: () => nav(`/exam/${day}`, {\n            state: {\n              name: studentName,\n              date: studyDate\n            }\n          }),\n          title: \"\\uD559\\uC2B5\\uC744 \\uBAA8\\uB450 \\uB9C8\\uCE58\\uBA74 \\uC2DC\\uD5D8\\uC73C\\uB85C \\uC774\\uB3D9\\uD569\\uB2C8\\uB2E4.\",\n          children: \"\\uC2DC\\uD5D8 \\uC2DC\\uC791\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/records\"),\n          children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\n_s2(Learn, \"Rup2R+Iu0ouwVZI2US4KFtXJcM0=\", false, function () {\n  return [useParams, useNavigate, useRecognizer];\n});\n_c2 = Learn;\nvar _c, _c2;\n$RefreshReg$(_c, \"Diff\");\n$RefreshReg$(_c2, \"Learn\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","Fragment","_Fragment","en","s","toLowerCase","replace","trim","tok","split","filter","Boolean","speak","text","rate","window","speechSynthesis","u","SpeechSynthesisUtterance","lang","cancel","useRecognizer","onResult","_s","recRef","listening","setListening","Ctor","SpeechRecognition","webkitSpeechRecognition","rec","interimResults","maxAlternatives","onresult","e","_e$results","_e$results$","_e$results$$","results","transcript","onend","onerror","current","start","stop","_recRef$current","Diff","expected","spoken","expT","spT","out","map","w","i","_spT$i","ok","style","color","fontWeight","children","length","fileName","_jsxFileName","lineNumber","columnNumber","_c","Learn","_s2","_q$koChunks","day","nav","studentName","localStorage","getItem","studyDate","Date","toISOString","slice","list","idx","setIdx","setSpoken","q","alert","ko","koChunks","join","chunks","enChunks","full","onPrev","v","Math","max","onNext","min","className","maxWidth","flexWrap","c","onClick","marginTop","_window$speechSynthes","_window$speechSynthes2","call","disabled","state","name","date","title","_c2","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Learn.js"],"sourcesContent":["// src/pages/Learn.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ====== 공통 유틸 ======\nconst en = (s) => s?.toLowerCase().replace(/[^\\w\\s]/g, \"\").replace(/\\s+/g, \" \").trim() || \"\";\nconst tok = (s) => en(s).split(\" \").filter(Boolean);\n\n// Web Speech Synthesis (TTS)\nfunction speak(text, rate = 0.7) {\n  if (!window.speechSynthesis) return;\n  const u = new SpeechSynthesisUtterance(text);\n  u.lang = \"en-US\";\n  u.rate = rate; // 기본 느리게\n  window.speechSynthesis.cancel();\n  window.speechSynthesis.speak(u);\n}\n\n// Web Speech Recognition (연습용 음성 인식)\nfunction useRecognizer(onResult) {\n  const recRef = useRef(null);\n  const [listening, setListening] = useState(false);\n\n  useEffect(() => {\n    const Ctor = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!Ctor) return;\n    const rec = new Ctor();\n    rec.lang = \"en-US\";\n    rec.interimResults = false;\n    rec.maxAlternatives = 1;\n    rec.onresult = (e) => {\n      const text = e.results?.[0]?.[0]?.transcript || \"\";\n      onResult?.(text);\n    };\n    rec.onend = () => setListening(false);\n    rec.onerror = () => setListening(false);\n    recRef.current = rec;\n  }, [onResult]);\n\n  const start = () => {\n    if (recRef.current && !listening) {\n      setListening(true);\n      recRef.current.start();\n    }\n  };\n  const stop = () => {\n    try {\n      recRef.current?.stop();\n    } catch {}\n    setListening(false);\n  };\n  return { listening, start, stop };\n}\n\n// 부분 일치 하이라이트\nfunction Diff({ expected, spoken }) {\n  const expT = tok(expected);\n  const spT = tok(spoken);\n  const out = expT.map((w, i) => {\n    const ok = spT[i] === w;\n    return (\n      <span key={i} style={{ color: ok ? \"#22c55e\" : \"#ef4444\", fontWeight: 700 }}>\n        {spT[i] ?? \"·\"}{i < expT.length - 1 ? \" \" : \"\"}\n      </span>\n    );\n  });\n  return <>{out}</>;\n}\n\n// ====== 컴포넌트 ======\nexport default function Learn() {\n  const { day } = useParams();\n  const nav = useNavigate();\n\n  // 오늘 날짜 & 학생명은 홈에서 localStorage에 저장해 둔다고 가정\n  const studentName = localStorage.getItem(\"student_name\") || \"\";\n  const studyDate = localStorage.getItem(\"study_date\") || new Date().toISOString().slice(0, 10);\n\n  const list = useMemo(() => QUESTIONS?.[day] || [], [day]);\n  const [idx, setIdx] = useState(0);\n\n  // 연습용\n  const [spoken, setSpoken] = useState(\"\");\n  const rec = useRecognizer((text) => setSpoken(text));\n\n  const q = list[idx];\n\n  // 학습 진입 보호\n  useEffect(() => {\n    if (!list.length) {\n      alert(\"해당 Day에 학습할 문장이 없어요.\");\n      nav(\"/\");\n    }\n  }, [list.length, nav]);\n\n  if (!q) return null;\n\n  const ko = q.koChunks?.join(\" / \") || \"\";\n  const chunks = q.enChunks || [];\n  const full = q.full || chunks.join(\" \");\n\n  const onPrev = () => setIdx((v) => Math.max(0, v - 1));\n  const onNext = () => setIdx((v) => Math.min(list.length - 1, v + 1));\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ maxWidth: 960 }}>\n        <h1 className=\"title\">학습 · 문제 {idx + 1} / {list.length}</h1>\n        <p className=\"yellow\">{ko}</p>\n\n        {/* 청크 듣기 (버튼 하나 = 청크 텍스트, 항상 느리게 재생) */}\n        <h2 className=\"subtitle\">청크 듣기</h2>\n        <div className=\"row\" style={{ flexWrap: \"wrap\" }}>\n          {chunks.map((c, i) => (\n            <button key={i} className=\"btn\" onClick={() => speak(c, 0.7)}>\n              {c}\n            </button>\n          ))}\n        </div>\n\n        {/* 문장 전체 듣기 (보너스: 보통/느리게/아주느리게) */}\n        <h2 className=\"subtitle\" style={{ marginTop: 12 }}>문장 전체 듣기</h2>\n        <div className=\"row\">\n          <button className=\"btn\" onClick={() => speak(full, 1.0)}>전체</button>\n          <button className=\"btn\" onClick={() => speak(full, 0.8)}>느리게</button>\n          <button className=\"btn\" onClick={() => speak(full, 0.6)}>아주 느리게</button>\n          <button className=\"btn danger\" onClick={() => window.speechSynthesis?.cancel?.()}>정지</button>\n        </div>\n\n        {/* 말하기 연습: 인식 → 즉시 색상 피드백 */}\n        <h2 className=\"subtitle\" style={{ marginTop: 12 }}>말하기 연습</h2>\n        <div className=\"row\">\n          {!rec.listening ? (\n            <button className=\"btn purple\" onClick={rec.start}>말하기(연습)</button>\n          ) : (\n            <button className=\"btn danger\" onClick={rec.stop}>멈추기</button>\n          )}\n        </div>\n        {spoken ? (\n          <div className=\"yellow\" style={{ marginTop: 8 }}>\n            <Diff expected={full} spoken={spoken} />\n          </div>\n        ) : (\n          <p className=\"muted\" style={{ marginTop: 8 }}>아직 인식된 문장이 없어요.</p>\n        )}\n\n        <div className=\"nav\" style={{ marginTop: 16 }}>\n          <button className=\"btn\" onClick={onPrev} disabled={idx === 0}>이전</button>\n          <button className=\"btn\" onClick={onNext} disabled={idx === list.length - 1}>다음</button>\n\n          {/* 마지막 문장일 때만 시험 시작 노출 */}\n          {idx === list.length - 1 && (\n            <button\n              className=\"btn primary\"\n              onClick={() => nav(`/exam/${day}`, { state: { name: studentName, date: studyDate } })}\n              title=\"학습을 모두 마치면 시험으로 이동합니다.\"\n            >\n              시험 시작\n            </button>\n          )}\n\n          <button className=\"btn\" onClick={() => nav(\"/\")}>처음으로</button>\n          <button className=\"btn\" onClick={() => nav(\"/records\")}>기록 보기</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}