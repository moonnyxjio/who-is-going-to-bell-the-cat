{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js\",\n  _s = $RefreshSig$();\n// src/pages/Exam.js (ÏÉÅÎã® Î™á Ï§ÑÎßå Î∞îÍæ∏Î©¥ Îê©ÎãàÎã§)\nimport React, { useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst normalizeDay = d => String(d || \"\").toLowerCase().replace(/\\s+/g, \"\");\nexport default function Exam() {\n  _s();\n  var _q$koChunks;\n  const nav = useNavigate();\n  const {\n    day\n  } = useParams();\n  const dayKey = normalizeDay(day); // ‚Üê Ï∂îÍ∞Ä\n  const {\n    state\n  } = useLocation();\n  const list = useMemo(() => QUESTIONS[dayKey] || [], [dayKey]); // ‚Üê Î≥ÄÍ≤Ω\n\n  // ... Ïù¥Ìïò Í∏∞Ï°¥ Î°úÏßÅ Í∑∏ÎåÄÎ°ú\n\n  const [idx, setIdx] = useState(0);\n  const q = list[idx];\n\n  // ÎßêÌïòÍ∏∞ Í¥ÄÎ†®\n  const [recognized, setRecognized] = useState(\"\"); // Ïù∏ÏãùÎêú Î¨∏Ïû•\n  const [checking, setChecking] = useState(false); // Ï±ÑÏ†ê Ï§ë/ÌõÑ ÏÉÅÌÉú ÌëúÏãúÏö© Ìä∏Î¶¨Í±∞\n  const [result, setResult] = useState(null); // { wrongIdxs, expectedTokens, userTokens, score, total }\n  const recogRef = useRef(null);\n\n  // ÏùåÏÑ±Ïù∏Ïãù Ï§ÄÎπÑ\n  useEffect(() => {\n    const R = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!R) {\n      recogRef.current = null;\n      return;\n    }\n    const recog = new R();\n    recog.lang = \"en-US\";\n    recog.interimResults = false;\n    recog.maxAlternatives = 1;\n    recog.onresult = e => {\n      var _e$results, _e$results$, _e$results$$;\n      const text = ((_e$results = e.results) === null || _e$results === void 0 ? void 0 : (_e$results$ = _e$results[0]) === null || _e$results$ === void 0 ? void 0 : (_e$results$$ = _e$results$[0]) === null || _e$results$$ === void 0 ? void 0 : _e$results$$.transcript) || \"\";\n      setRecognized(text);\n      // ÎßêÌïòÍ∏∞Í∞Ä ÎÅùÎÇòÎ©¥ ÏûêÎèôÏúºÎ°ú Ï±ÑÏ†ê\n      handleCheck(text);\n    };\n    recog.onerror = () => {\n      setRecognized(\"\");\n    };\n    recogRef.current = recog;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ÎßêÌïòÍ∏∞ ÏãúÏûë\n  const handleSpeak = () => {\n    if (!recogRef.current) {\n      alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏùåÏÑ± Ïù∏ÏãùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏïÑÏöî. ChromeÏùÑ ÏÇ¨Ïö©Ìï¥ Ï£ºÏÑ∏Ïöî!\");\n      return;\n    }\n    setRecognized(\"\");\n    setResult(null);\n    setChecking(false);\n    try {\n      recogRef.current.start();\n    } catch (_) {\n      // Safari Îì±ÏóêÏÑú start Ï§ëÎ≥µ Ìò∏Ï∂ú ÏòàÏô∏ Î¨¥Ïãú\n    }\n  };\n\n  // Ï±ÑÏ†ê: enChunksÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÌÜ†ÌÅ∞ ÎπÑÍµê\n  const handleCheck = textMaybe => {\n    const text = typeof textMaybe === \"string\" ? textMaybe : recognized;\n    const expectedTokens = tokenize(((q === null || q === void 0 ? void 0 : q.enChunks) || []).join(\" \"));\n    const userTokens = tokenize(text);\n    const wrongIdxs = [];\n    expectedTokens.forEach((exp, i) => {\n      const user = userTokens[i] || \"\";\n      if (user === exp) return;\n      // s/es Í∞ÄÎ≤ºÏö¥ Ïò§Ï∞® ÌóàÏö© (ÏÑ†ÌÉù)\n      if (user + \"s\" === exp || user === exp + \"s\") return;\n      wrongIdxs.push(i);\n    });\n    const score = expectedTokens.length - wrongIdxs.length;\n    setResult({\n      wrongIdxs,\n      expectedTokens,\n      userTokens,\n      score,\n      total: expectedTokens.length\n    });\n    setChecking(true);\n  };\n\n  // Í∞ôÏùÄ Î¨∏Ïû• Îã§Ïãú ÏãúÎèÑ\n  const handleRetry = () => {\n    setRecognized(\"\");\n    setResult(null);\n    setChecking(false);\n    handleSpeak();\n  };\n\n  // Í∏∞Î°ù Ï†ÄÏû•\n  const saveRecord = () => {\n    if (!result) return;\n    const rec = {\n      type: \"SPEAK\",\n      name: studentName,\n      date: new Date().toISOString().slice(0, 10),\n      day: dayKey,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: result.expectedTokens,\n      user: recognized,\n      userTokens: result.userTokens,\n      wrongIdxs: result.wrongIdxs,\n      score: result.score,\n      totalChunks: result.total,\n      ts: Date.now()\n    };\n    const prev = JSON.parse(localStorage.getItem(\"records\") || \"[]\");\n    localStorage.setItem(\"records\", JSON.stringify([...prev, rec]));\n  };\n\n  // Îã§Ïùå Î¨∏Ïû•ÏúºÎ°ú Ïù¥Îèô (Í∏∞Î°ù Ï†ÄÏû• ÌõÑ)\n  const handleNext = () => {\n    if (!result) {\n      alert(\"Î®ºÏ†Ä ÎßêÌïòÍ∏∞Î•º ÎàåÎü¨ Ï±ÑÏ†êÌï¥ Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    saveRecord();\n    if (idx < list.length - 1) {\n      setIdx(idx + 1);\n      setRecognized(\"\");\n      setResult(null);\n      setChecking(false);\n    } else {\n      alert(\"üéâ Ïò§Îäò ÌïôÏäµ/ÏãúÌóòÏùÑ ÎßàÏ≥§ÏäµÎãàÎã§!\");\n      nav(\"/records\", {\n        state: {\n          filter: {\n            name: studentName,\n            day: dayKey\n          }\n        }\n      });\n    }\n  };\n  if (!q) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"\\uBB38\\uC81C\\uAC00 \\uC5C6\\uC5B4\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn secondary\",\n          onClick: () => nav(\"/records\"),\n          children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"title\",\n      children: [\"\\uBB38\\uC81C \", idx + 1, \" / \", list.length]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"pill big\",\n      children: (_q$koChunks = q.koChunks) === null || _q$koChunks === void 0 ? void 0 : _q$koChunks.join(\" / \")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-group\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: handleSpeak,\n        children: \"\\uB9D0\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn secondary\",\n        onClick: () => handleCheck(),\n        children: \"\\uCC44\\uC810\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn secondary\",\n        onClick: handleRetry,\n        children: \"\\uB2E4\\uC2DC \\uB9D0\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: handleNext,\n        children: \"\\uB2E4\\uC74C \\uBB38\\uC7A5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-title\",\n        children: \"\\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-body\",\n        children: recognized || /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"muted\",\n          children: \"\\uC544\\uC9C1 \\uC778\\uC2DD\\uB41C \\uBB38\\uC7A5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), checking && result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-title\",\n        children: [\"\\uCC44\\uC810 \\uACB0\\uACFC \\xB7 \\uC810\\uC218 \", result.score, \" / \", result.total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-subtitle\",\n        children: \"\\uC815\\uB2F5(\\uC601\\uC5B4 \\uD1A0\\uD070)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chips\",\n        children: result.expectedTokens.map((tok, i) => {\n          const wrong = result.wrongIdxs.includes(i);\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `chip ${wrong ? \"bad\" : \"ok\"}`,\n            children: tok\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-subtitle\",\n        style: {\n          marginTop: 8\n        },\n        children: \"\\uD559\\uC0DD \\uD1A0\\uD070\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chips\",\n        children: result.userTokens.length ? result.userTokens.map((tok, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"chip\",\n          children: tok\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"muted\",\n          children: \"\\uD1A0\\uD070\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-group\",\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn secondary\",\n        onClick: () => nav(\"/\"),\n        children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn secondary\",\n        onClick: () => nav(\"/records\"),\n        children: \"\\uAE30\\uB85D \\uBCF4\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n}\n_s(Exam, \"3dLW+rofVJ6YwLCVPFk7zxJ2f50=\", false, function () {\n  return [useNavigate, useParams, useLocation];\n});\n_c = Exam;\nvar _c;\n$RefreshReg$(_c, \"Exam\");","map":{"version":3,"names":["React","useMemo","useState","useLocation","useNavigate","useParams","QUESTIONS","jsxDEV","_jsxDEV","normalizeDay","d","String","toLowerCase","replace","Exam","_s","_q$koChunks","nav","day","dayKey","state","list","idx","setIdx","q","recognized","setRecognized","checking","setChecking","result","setResult","recogRef","useRef","useEffect","R","window","SpeechRecognition","webkitSpeechRecognition","current","recog","lang","interimResults","maxAlternatives","onresult","e","_e$results","_e$results$","_e$results$$","text","results","transcript","handleCheck","onerror","handleSpeak","alert","start","_","textMaybe","expectedTokens","tokenize","enChunks","join","userTokens","wrongIdxs","forEach","exp","i","user","push","score","length","total","handleRetry","saveRecord","rec","type","name","studentName","date","Date","toISOString","slice","qid","id","koChunks","totalChunks","ts","now","prev","JSON","parse","localStorage","getItem","setItem","stringify","handleNext","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginTop","map","tok","wrong","includes","_c","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/who-is-going-to-bell-the-cat/src/pages/Exam.js"],"sourcesContent":["// src/pages/Exam.js (ÏÉÅÎã® Î™á Ï§ÑÎßå Î∞îÍæ∏Î©¥ Îê©ÎãàÎã§)\nimport React, { useMemo, useState } from \"react\";\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\nconst normalizeDay = (d) => String(d || \"\").toLowerCase().replace(/\\s+/g, \"\");\n\nexport default function Exam() {\n  const nav = useNavigate();\n  const { day } = useParams();\n  const dayKey = normalizeDay(day);   // ‚Üê Ï∂îÍ∞Ä\n  const { state } = useLocation();\n\n  const list = useMemo(() => QUESTIONS[dayKey] || [], [dayKey]);  // ‚Üê Î≥ÄÍ≤Ω\n\n  // ... Ïù¥Ìïò Í∏∞Ï°¥ Î°úÏßÅ Í∑∏ÎåÄÎ°ú\n\n  const [idx, setIdx] = useState(0);\n  const q = list[idx];\n\n  // ÎßêÌïòÍ∏∞ Í¥ÄÎ†®\n  const [recognized, setRecognized] = useState(\"\"); // Ïù∏ÏãùÎêú Î¨∏Ïû•\n  const [checking, setChecking] = useState(false);  // Ï±ÑÏ†ê Ï§ë/ÌõÑ ÏÉÅÌÉú ÌëúÏãúÏö© Ìä∏Î¶¨Í±∞\n  const [result, setResult] = useState(null);       // { wrongIdxs, expectedTokens, userTokens, score, total }\n  const recogRef = useRef(null);\n\n  // ÏùåÏÑ±Ïù∏Ïãù Ï§ÄÎπÑ\n  useEffect(() => {\n    const R = window.SpeechRecognition || window.webkitSpeechRecognition;\n    if (!R) {\n      recogRef.current = null;\n      return;\n    }\n    const recog = new R();\n    recog.lang = \"en-US\";\n    recog.interimResults = false;\n    recog.maxAlternatives = 1;\n\n    recog.onresult = (e) => {\n      const text = e.results?.[0]?.[0]?.transcript || \"\";\n      setRecognized(text);\n      // ÎßêÌïòÍ∏∞Í∞Ä ÎÅùÎÇòÎ©¥ ÏûêÎèôÏúºÎ°ú Ï±ÑÏ†ê\n      handleCheck(text);\n    };\n    recog.onerror = () => {\n      setRecognized(\"\");\n    };\n    recogRef.current = recog;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ÎßêÌïòÍ∏∞ ÏãúÏûë\n  const handleSpeak = () => {\n    if (!recogRef.current) {\n      alert(\"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏùåÏÑ± Ïù∏ÏãùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏïÑÏöî. ChromeÏùÑ ÏÇ¨Ïö©Ìï¥ Ï£ºÏÑ∏Ïöî!\");\n      return;\n    }\n    setRecognized(\"\");\n    setResult(null);\n    setChecking(false);\n    try {\n      recogRef.current.start();\n    } catch (_) {\n      // Safari Îì±ÏóêÏÑú start Ï§ëÎ≥µ Ìò∏Ï∂ú ÏòàÏô∏ Î¨¥Ïãú\n    }\n  };\n\n  // Ï±ÑÏ†ê: enChunksÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÌÜ†ÌÅ∞ ÎπÑÍµê\n  const handleCheck = (textMaybe) => {\n    const text = typeof textMaybe === \"string\" ? textMaybe : recognized;\n    const expectedTokens = tokenize((q?.enChunks || []).join(\" \"));\n    const userTokens = tokenize(text);\n    const wrongIdxs = [];\n\n    expectedTokens.forEach((exp, i) => {\n      const user = userTokens[i] || \"\";\n      if (user === exp) return;\n      // s/es Í∞ÄÎ≤ºÏö¥ Ïò§Ï∞® ÌóàÏö© (ÏÑ†ÌÉù)\n      if (user + \"s\" === exp || user === exp + \"s\") return;\n      wrongIdxs.push(i);\n    });\n\n    const score = expectedTokens.length - wrongIdxs.length;\n    setResult({\n      wrongIdxs,\n      expectedTokens,\n      userTokens,\n      score,\n      total: expectedTokens.length,\n    });\n    setChecking(true);\n  };\n\n  // Í∞ôÏùÄ Î¨∏Ïû• Îã§Ïãú ÏãúÎèÑ\n  const handleRetry = () => {\n    setRecognized(\"\");\n    setResult(null);\n    setChecking(false);\n    handleSpeak();\n  };\n\n  // Í∏∞Î°ù Ï†ÄÏû•\n  const saveRecord = () => {\n    if (!result) return;\n    const rec = {\n      type: \"SPEAK\",\n      name: studentName,\n      date: new Date().toISOString().slice(0, 10),\n      day: dayKey,\n      qid: q.id,\n      koChunks: q.koChunks,\n      enChunks: result.expectedTokens,\n      user: recognized,\n      userTokens: result.userTokens,\n      wrongIdxs: result.wrongIdxs,\n      score: result.score,\n      totalChunks: result.total,\n      ts: Date.now(),\n    };\n    const prev = JSON.parse(localStorage.getItem(\"records\") || \"[]\");\n    localStorage.setItem(\"records\", JSON.stringify([...prev, rec]));\n  };\n\n  // Îã§Ïùå Î¨∏Ïû•ÏúºÎ°ú Ïù¥Îèô (Í∏∞Î°ù Ï†ÄÏû• ÌõÑ)\n  const handleNext = () => {\n    if (!result) {\n      alert(\"Î®ºÏ†Ä ÎßêÌïòÍ∏∞Î•º ÎàåÎü¨ Ï±ÑÏ†êÌï¥ Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n    saveRecord();\n    if (idx < list.length - 1) {\n      setIdx(idx + 1);\n      setRecognized(\"\");\n      setResult(null);\n      setChecking(false);\n    } else {\n      alert(\"üéâ Ïò§Îäò ÌïôÏäµ/ÏãúÌóòÏùÑ ÎßàÏ≥§ÏäµÎãàÎã§!\");\n      nav(\"/records\", { state: { filter: { name: studentName, day: dayKey } } });\n    }\n  };\n\n  if (!q) {\n    return (\n      <div className=\"container\">\n        <h1 className=\"title\">Î¨∏Ï†úÍ∞Ä ÏóÜÏñ¥Ïöî</h1>\n        <div className=\"btn-group\">\n          <button className=\"btn\" onClick={() => nav(\"/\")}>\n            Ï≤òÏùåÏúºÎ°ú\n          </button>\n          <button className=\"btn secondary\" onClick={() => nav(\"/records\")}>\n            Í∏∞Î°ù Î≥¥Í∏∞\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"title\">\n        Î¨∏Ï†ú {idx + 1} / {list.length}\n      </h1>\n\n      {/* ÏãúÌóòÏùÄ ÌïúÍ∏ÄÎßå Î≥¥Ïó¨Ï§å */}\n      <p className=\"pill big\">\n        {q.koChunks?.join(\" / \")}\n      </p>\n\n      {/* ÎßêÌïòÍ∏∞ & Ï±ÑÏ†ê */}\n      <div className=\"btn-group\" style={{ marginTop: 12 }}>\n        <button className=\"btn\" onClick={handleSpeak}>ÎßêÌïòÍ∏∞</button>\n        <button className=\"btn secondary\" onClick={() => handleCheck()}>Ï±ÑÏ†êÌïòÍ∏∞</button>\n        <button className=\"btn secondary\" onClick={handleRetry}>Îã§Ïãú ÎßêÌïòÍ∏∞</button>\n        <button className=\"btn\" onClick={handleNext}>Îã§Ïùå Î¨∏Ïû•</button>\n      </div>\n\n      {/* Ïù∏Ïãù Í≤∞Í≥º ÌëúÏãú */}\n      <div className=\"panel\">\n        <div className=\"panel-title\">Ïù∏ÏãùÎêú Î¨∏Ïû•</div>\n        <div className=\"panel-body\">{recognized || <span className=\"muted\">ÏïÑÏßÅ Ïù∏ÏãùÎêú Î¨∏Ïû•Ïù¥ ÏóÜÏñ¥Ïöî.</span>}</div>\n      </div>\n\n      {/* Ï±ÑÏ†ê Í≤∞Í≥º(ÌÜ†ÌÅ∞Î≥Ñ Ïπ© ÎπÑÍµê) */}\n      {checking && result && (\n        <div className=\"panel\">\n          <div className=\"panel-title\">\n            Ï±ÑÏ†ê Í≤∞Í≥º ¬∑ Ï†êÏàò {result.score} / {result.total}\n          </div>\n          <div className=\"panel-subtitle\">Ï†ïÎãµ(ÏòÅÏñ¥ ÌÜ†ÌÅ∞)</div>\n          <div className=\"chips\">\n            {result.expectedTokens.map((tok, i) => {\n              const wrong = result.wrongIdxs.includes(i);\n              return (\n                <span key={i} className={`chip ${wrong ? \"bad\" : \"ok\"}`}>\n                  {tok}\n                </span>\n              );\n            })}\n          </div>\n\n          <div className=\"panel-subtitle\" style={{ marginTop: 8 }}>\n            ÌïôÏÉù ÌÜ†ÌÅ∞\n          </div>\n          <div className=\"chips\">\n            {result.userTokens.length ? (\n              result.userTokens.map((tok, i) => (\n                <span key={i} className=\"chip\">\n                  {tok}\n                </span>\n              ))\n            ) : (\n              <span className=\"muted\">ÌÜ†ÌÅ∞Ïù¥ ÏóÜÏñ¥Ïöî.</span>\n            )}\n          </div>\n        </div>\n      )}\n\n      <div className=\"btn-group\" style={{ marginTop: 12 }}>\n        <button className=\"btn secondary\" onClick={() => nav(\"/\")}>Ï≤òÏùåÏúºÎ°ú</button>\n        <button className=\"btn secondary\" onClick={() => nav(\"/records\")}>Í∏∞Î°ù Î≥¥Í∏∞</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAChD,SAASC,WAAW,EAAEC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACtE,SAASC,SAAS,QAAQ,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,YAAY,GAAIC,CAAC,IAAKC,MAAM,CAACD,CAAC,IAAI,EAAE,CAAC,CAACE,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AAE7E,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,WAAA;EAC7B,MAAMC,GAAG,GAAGb,WAAW,CAAC,CAAC;EACzB,MAAM;IAAEc;EAAI,CAAC,GAAGb,SAAS,CAAC,CAAC;EAC3B,MAAMc,MAAM,GAAGV,YAAY,CAACS,GAAG,CAAC,CAAC,CAAG;EACpC,MAAM;IAAEE;EAAM,CAAC,GAAGjB,WAAW,CAAC,CAAC;EAE/B,MAAMkB,IAAI,GAAGpB,OAAO,CAAC,MAAMK,SAAS,CAACa,MAAM,CAAC,IAAI,EAAE,EAAE,CAACA,MAAM,CAAC,CAAC,CAAC,CAAE;;EAEhE;;EAEA,MAAM,CAACG,GAAG,EAAEC,MAAM,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC;EACjC,MAAMsB,CAAC,GAAGH,IAAI,CAACC,GAAG,CAAC;;EAEnB;EACA,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAClD,MAAM,CAACyB,QAAQ,EAAEC,WAAW,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAE;EAClD,MAAM,CAAC2B,MAAM,EAAEC,SAAS,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAO;EAClD,MAAM6B,QAAQ,GAAGC,MAAM,CAAC,IAAI,CAAC;;EAE7B;EACAC,SAAS,CAAC,MAAM;IACd,MAAMC,CAAC,GAAGC,MAAM,CAACC,iBAAiB,IAAID,MAAM,CAACE,uBAAuB;IACpE,IAAI,CAACH,CAAC,EAAE;MACNH,QAAQ,CAACO,OAAO,GAAG,IAAI;MACvB;IACF;IACA,MAAMC,KAAK,GAAG,IAAIL,CAAC,CAAC,CAAC;IACrBK,KAAK,CAACC,IAAI,GAAG,OAAO;IACpBD,KAAK,CAACE,cAAc,GAAG,KAAK;IAC5BF,KAAK,CAACG,eAAe,GAAG,CAAC;IAEzBH,KAAK,CAACI,QAAQ,GAAIC,CAAC,IAAK;MAAA,IAAAC,UAAA,EAAAC,WAAA,EAAAC,YAAA;MACtB,MAAMC,IAAI,GAAG,EAAAH,UAAA,GAAAD,CAAC,CAACK,OAAO,cAAAJ,UAAA,wBAAAC,WAAA,GAATD,UAAA,CAAY,CAAC,CAAC,cAAAC,WAAA,wBAAAC,YAAA,GAAdD,WAAA,CAAiB,CAAC,CAAC,cAAAC,YAAA,uBAAnBA,YAAA,CAAqBG,UAAU,KAAI,EAAE;MAClDxB,aAAa,CAACsB,IAAI,CAAC;MACnB;MACAG,WAAW,CAACH,IAAI,CAAC;IACnB,CAAC;IACDT,KAAK,CAACa,OAAO,GAAG,MAAM;MACpB1B,aAAa,CAAC,EAAE,CAAC;IACnB,CAAC;IACDK,QAAQ,CAACO,OAAO,GAAGC,KAAK;IACxB;EACF,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMc,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAI,CAACtB,QAAQ,CAACO,OAAO,EAAE;MACrBgB,KAAK,CAAC,2CAA2C,CAAC;MAClD;IACF;IACA5B,aAAa,CAAC,EAAE,CAAC;IACjBI,SAAS,CAAC,IAAI,CAAC;IACfF,WAAW,CAAC,KAAK,CAAC;IAClB,IAAI;MACFG,QAAQ,CAACO,OAAO,CAACiB,KAAK,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOC,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC;;EAED;EACA,MAAML,WAAW,GAAIM,SAAS,IAAK;IACjC,MAAMT,IAAI,GAAG,OAAOS,SAAS,KAAK,QAAQ,GAAGA,SAAS,GAAGhC,UAAU;IACnE,MAAMiC,cAAc,GAAGC,QAAQ,CAAC,CAAC,CAAAnC,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAEoC,QAAQ,KAAI,EAAE,EAAEC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9D,MAAMC,UAAU,GAAGH,QAAQ,CAACX,IAAI,CAAC;IACjC,MAAMe,SAAS,GAAG,EAAE;IAEpBL,cAAc,CAACM,OAAO,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAK;MACjC,MAAMC,IAAI,GAAGL,UAAU,CAACI,CAAC,CAAC,IAAI,EAAE;MAChC,IAAIC,IAAI,KAAKF,GAAG,EAAE;MAClB;MACA,IAAIE,IAAI,GAAG,GAAG,KAAKF,GAAG,IAAIE,IAAI,KAAKF,GAAG,GAAG,GAAG,EAAE;MAC9CF,SAAS,CAACK,IAAI,CAACF,CAAC,CAAC;IACnB,CAAC,CAAC;IAEF,MAAMG,KAAK,GAAGX,cAAc,CAACY,MAAM,GAAGP,SAAS,CAACO,MAAM;IACtDxC,SAAS,CAAC;MACRiC,SAAS;MACTL,cAAc;MACdI,UAAU;MACVO,KAAK;MACLE,KAAK,EAAEb,cAAc,CAACY;IACxB,CAAC,CAAC;IACF1C,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;;EAED;EACA,MAAM4C,WAAW,GAAGA,CAAA,KAAM;IACxB9C,aAAa,CAAC,EAAE,CAAC;IACjBI,SAAS,CAAC,IAAI,CAAC;IACfF,WAAW,CAAC,KAAK,CAAC;IAClByB,WAAW,CAAC,CAAC;EACf,CAAC;;EAED;EACA,MAAMoB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAAC5C,MAAM,EAAE;IACb,MAAM6C,GAAG,GAAG;MACVC,IAAI,EAAE,OAAO;MACbC,IAAI,EAAEC,WAAW;MACjBC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;MAC3C/D,GAAG,EAAEC,MAAM;MACX+D,GAAG,EAAE1D,CAAC,CAAC2D,EAAE;MACTC,QAAQ,EAAE5D,CAAC,CAAC4D,QAAQ;MACpBxB,QAAQ,EAAE/B,MAAM,CAAC6B,cAAc;MAC/BS,IAAI,EAAE1C,UAAU;MAChBqC,UAAU,EAAEjC,MAAM,CAACiC,UAAU;MAC7BC,SAAS,EAAElC,MAAM,CAACkC,SAAS;MAC3BM,KAAK,EAAExC,MAAM,CAACwC,KAAK;MACnBgB,WAAW,EAAExD,MAAM,CAAC0C,KAAK;MACzBe,EAAE,EAAEP,IAAI,CAACQ,GAAG,CAAC;IACf,CAAC;IACD,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;IAChED,YAAY,CAACE,OAAO,CAAC,SAAS,EAAEJ,IAAI,CAACK,SAAS,CAAC,CAAC,GAAGN,IAAI,EAAEd,GAAG,CAAC,CAAC,CAAC;EACjE,CAAC;;EAED;EACA,MAAMqB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAAClE,MAAM,EAAE;MACXyB,KAAK,CAAC,qBAAqB,CAAC;MAC5B;IACF;IACAmB,UAAU,CAAC,CAAC;IACZ,IAAInD,GAAG,GAAGD,IAAI,CAACiD,MAAM,GAAG,CAAC,EAAE;MACzB/C,MAAM,CAACD,GAAG,GAAG,CAAC,CAAC;MACfI,aAAa,CAAC,EAAE,CAAC;MACjBI,SAAS,CAAC,IAAI,CAAC;MACfF,WAAW,CAAC,KAAK,CAAC;IACpB,CAAC,MAAM;MACL0B,KAAK,CAAC,qBAAqB,CAAC;MAC5BrC,GAAG,CAAC,UAAU,EAAE;QAAEG,KAAK,EAAE;UAAE4E,MAAM,EAAE;YAAEpB,IAAI,EAAEC,WAAW;YAAE3D,GAAG,EAAEC;UAAO;QAAE;MAAE,CAAC,CAAC;IAC5E;EACF,CAAC;EAED,IAAI,CAACK,CAAC,EAAE;IACN,oBACEhB,OAAA;MAAKyF,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB1F,OAAA;QAAIyF,SAAS,EAAC,OAAO;QAAAC,QAAA,EAAC;MAAO;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClC9F,OAAA;QAAKyF,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB1F,OAAA;UAAQyF,SAAS,EAAC,KAAK;UAACM,OAAO,EAAEA,CAAA,KAAMtF,GAAG,CAAC,GAAG,CAAE;UAAAiF,QAAA,EAAC;QAEjD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT9F,OAAA;UAAQyF,SAAS,EAAC,eAAe;UAACM,OAAO,EAAEA,CAAA,KAAMtF,GAAG,CAAC,UAAU,CAAE;UAAAiF,QAAA,EAAC;QAElE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACE9F,OAAA;IAAKyF,SAAS,EAAC,WAAW;IAAAC,QAAA,gBACxB1F,OAAA;MAAIyF,SAAS,EAAC,OAAO;MAAAC,QAAA,GAAC,eACjB,EAAC5E,GAAG,GAAG,CAAC,EAAC,KAAG,EAACD,IAAI,CAACiD,MAAM;IAAA;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGL9F,OAAA;MAAGyF,SAAS,EAAC,UAAU;MAAAC,QAAA,GAAAlF,WAAA,GACpBQ,CAAC,CAAC4D,QAAQ,cAAApE,WAAA,uBAAVA,WAAA,CAAY6C,IAAI,CAAC,KAAK;IAAC;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvB,CAAC,eAGJ9F,OAAA;MAAKyF,SAAS,EAAC,WAAW;MAACO,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAE;MAAAP,QAAA,gBAClD1F,OAAA;QAAQyF,SAAS,EAAC,KAAK;QAACM,OAAO,EAAElD,WAAY;QAAA6C,QAAA,EAAC;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC1D9F,OAAA;QAAQyF,SAAS,EAAC,eAAe;QAACM,OAAO,EAAEA,CAAA,KAAMpD,WAAW,CAAC,CAAE;QAAA+C,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC7E9F,OAAA;QAAQyF,SAAS,EAAC,eAAe;QAACM,OAAO,EAAE/B,WAAY;QAAA0B,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACvE9F,OAAA;QAAQyF,SAAS,EAAC,KAAK;QAACM,OAAO,EAAER,UAAW;QAAAG,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxD,CAAC,eAGN9F,OAAA;MAAKyF,SAAS,EAAC,OAAO;MAAAC,QAAA,gBACpB1F,OAAA;QAAKyF,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAAM;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACzC9F,OAAA;QAAKyF,SAAS,EAAC,YAAY;QAAAC,QAAA,EAAEzE,UAAU,iBAAIjB,OAAA;UAAMyF,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7F,CAAC,EAGL3E,QAAQ,IAAIE,MAAM,iBACjBrB,OAAA;MAAKyF,SAAS,EAAC,OAAO;MAAAC,QAAA,gBACpB1F,OAAA;QAAKyF,SAAS,EAAC,aAAa;QAAAC,QAAA,GAAC,8CAChB,EAACrE,MAAM,CAACwC,KAAK,EAAC,KAAG,EAACxC,MAAM,CAAC0C,KAAK;MAAA;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACN9F,OAAA;QAAKyF,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC/C9F,OAAA;QAAKyF,SAAS,EAAC,OAAO;QAAAC,QAAA,EACnBrE,MAAM,CAAC6B,cAAc,CAACgD,GAAG,CAAC,CAACC,GAAG,EAAEzC,CAAC,KAAK;UACrC,MAAM0C,KAAK,GAAG/E,MAAM,CAACkC,SAAS,CAAC8C,QAAQ,CAAC3C,CAAC,CAAC;UAC1C,oBACE1D,OAAA;YAAcyF,SAAS,EAAE,QAAQW,KAAK,GAAG,KAAK,GAAG,IAAI,EAAG;YAAAV,QAAA,EACrDS;UAAG,GADKzC,CAAC;YAAAiC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEN,CAAC;QAEX,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN9F,OAAA;QAAKyF,SAAS,EAAC,gBAAgB;QAACO,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAE,CAAE;QAAAP,QAAA,EAAC;MAEzD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACN9F,OAAA;QAAKyF,SAAS,EAAC,OAAO;QAAAC,QAAA,EACnBrE,MAAM,CAACiC,UAAU,CAACQ,MAAM,GACvBzC,MAAM,CAACiC,UAAU,CAAC4C,GAAG,CAAC,CAACC,GAAG,EAAEzC,CAAC,kBAC3B1D,OAAA;UAAcyF,SAAS,EAAC,MAAM;UAAAC,QAAA,EAC3BS;QAAG,GADKzC,CAAC;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEN,CACP,CAAC,gBAEF9F,OAAA;UAAMyF,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MACvC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAED9F,OAAA;MAAKyF,SAAS,EAAC,WAAW;MAACO,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAE;MAAAP,QAAA,gBAClD1F,OAAA;QAAQyF,SAAS,EAAC,eAAe;QAACM,OAAO,EAAEA,CAAA,KAAMtF,GAAG,CAAC,GAAG,CAAE;QAAAiF,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACxE9F,OAAA;QAAQyF,SAAS,EAAC,eAAe;QAACM,OAAO,EAAEA,CAAA,KAAMtF,GAAG,CAAC,UAAU,CAAE;QAAAiF,QAAA,EAAC;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7E,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvF,EAAA,CAxNuBD,IAAI;EAAA,QACdV,WAAW,EACPC,SAAS,EAEPF,WAAW;AAAA;AAAA2G,EAAA,GAJPhG,IAAI;AAAA,IAAAgG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}