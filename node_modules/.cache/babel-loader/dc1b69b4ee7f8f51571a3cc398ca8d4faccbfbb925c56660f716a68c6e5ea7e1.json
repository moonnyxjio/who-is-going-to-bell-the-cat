{"ast":null,"code":"var _jsxFileName = \"/Users/evelynpark/Desktop/bell-day/src/pages/Records.js\",\n  _s = $RefreshSig$();\n// src/pages/Result.js\nimport React, { useMemo, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ----- 통과(마스터) 저장소 -----\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MASTER_KEY = \"mastery_v1\";\nconst loadMastery = () => {\n  try {\n    return JSON.parse(localStorage.getItem(MASTER_KEY) || \"{}\");\n  } catch {\n    return {};\n  }\n};\nconst isMastered = (name, day, qid) => {\n  var _db$keyName;\n  const db = loadMastery();\n  const keyName = name || \"_anon\";\n  const keyDay = day || \"_day\";\n  const arr = ((_db$keyName = db[keyName]) === null || _db$keyName === void 0 ? void 0 : _db$keyName[keyDay]) || [];\n  return arr.includes(qid);\n};\n\n// ----- UI 토큰 렌더 -----\nconst Tokens = ({\n  tokens,\n  wrongIdxs\n}) => /*#__PURE__*/_jsxDEV(\"span\", {\n  style: {\n    display: \"inline-block\",\n    lineHeight: \"1.9\"\n  },\n  children: tokens.map((t, i) => wrongIdxs.includes(i) ? /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"word-bad\",\n    children: t\n  }, i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"word-ok\",\n    children: t\n  }, i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this))\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 22,\n  columnNumber: 3\n}, this);\n_c = Tokens;\nexport default function Result() {\n  _s();\n  const nav = useNavigate();\n  const {\n    state\n  } = useLocation(); // { name?, day? }\n  const [nameFilter, setNameFilter] = useState((state === null || state === void 0 ? void 0 : state.name) || \"\");\n  const [dayFilter, setDayFilter] = useState((state === null || state === void 0 ? void 0 : state.day) || \"\");\n\n  // 기록 로드\n  const allRecords = useMemo(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"records\") || \"[]\");\n    } catch {\n      return [];\n    }\n  }, []);\n\n  // 필터 옵션\n  const nameOptions = useMemo(() => Array.from(new Set(allRecords.map(r => r.name).filter(Boolean))).sort(), [allRecords]);\n  const dayOptions = useMemo(() => Array.from(new Set(allRecords.map(r => r.day).filter(Boolean))).sort(), [allRecords]);\n\n  // 필터 적용\n  const filtered = useMemo(() => {\n    const list = allRecords.filter(r => nameFilter ? r.name === nameFilter : true).filter(r => dayFilter ? r.day === dayFilter : true).sort((a, b) => b.ts - a.ts);\n    return list;\n  }, [allRecords, nameFilter, dayFilter]);\n\n  // “선생님 입장 남은 오답” 계산:\n  // 같은 QID가 여러 기록에 있어도, “통과 성공”이면 오답 목록에서 제외.\n  const remainingWrong = useMemo(() => {\n    if (!nameFilter || !dayFilter) return [];\n    // 그 Day의 전체 문항 QID 목록\n    const qs = QUESTIONS[dayFilter] || [];\n    const qidSet = new Set(qs.map(q => q.id));\n    // 해당 학생/Day의 “마스터되지 않은” QID만 남김\n    const notMasteredQids = Array.from(qidSet).filter(qid => !isMastered(nameFilter, dayFilter, qid));\n\n    // 그 QID들에 대한 최근 기록(있을 수도/없을 수도)\n    const latestByQid = {};\n    filtered.forEach(r => {\n      if (r.day !== dayFilter || r.name !== nameFilter) return;\n      if (!qidSet.has(r.qid)) return;\n      if (!latestByQid[r.qid] || r.ts > latestByQid[r.qid].ts) latestByQid[r.qid] = r;\n    });\n\n    // 아직 마스터 안 된 QID만 보여주기\n    const items = notMasteredQids.map(qid => {\n      const rec = latestByQid[qid];\n      if (rec) return rec; // 최근 기록이 있으면 그걸 사용(오답 표시 가능)\n      // 기록이 없다면 문제 원본만 준비\n      const q = qs.find(qq => qq.id === qid);\n      return q ? {\n        name: nameFilter,\n        day: dayFilter,\n        qid,\n        koChunks: q.koChunks,\n        enChunks: q.enChunks,\n        wrongIdxs: q.enChunks.map(() => 0),\n        // 표시용\n        score: 0,\n        totalChunks: q.enChunks.join(\" \").trim().split(/\\s+/).length,\n        user: \"\",\n        ts: 0\n      } : null;\n    }).filter(Boolean);\n    return items;\n  }, [filtered, nameFilter, dayFilter]);\n\n  // 통과률/배지\n  const masteryInfo = useMemo(() => {\n    if (!nameFilter || !dayFilter) return null;\n    const qs = QUESTIONS[dayFilter] || [];\n    const total = qs.length;\n    const mastered = qs.filter(q => isMastered(nameFilter, dayFilter, q.id)).length;\n    const left = Math.max(total - mastered, 0);\n    const pct = total ? Math.round(mastered / total * 100) : 0;\n    return {\n      mastered,\n      total,\n      left,\n      pct,\n      done: total > 0 && mastered === total\n    };\n  }, [nameFilter, dayFilter]);\n\n  // 오답만 다시 말하기 (남은 오답 QID 기준)\n  const retryWrong = () => {\n    if (!nameFilter || !dayFilter) {\n      alert(\"학생과 Day를 먼저 선택하세요.\");\n      return;\n    }\n    if (!remainingWrong.length) {\n      alert(\"남은 오답이 없어요! (모두 통과)\");\n      return;\n    }\n    // 남은 오답 QID → 원본 문제로 재구성\n    const retry = remainingWrong.map(r => {\n      const qq = (QUESTIONS[dayFilter] || []).find(x => x.id === r.qid);\n      return qq ? {\n        ...qq\n      } : null;\n    }).filter(Boolean);\n    nav(`/exam/${dayFilter}`, {\n      state: {\n        name: nameFilter,\n        day: dayFilter,\n        date: new Date().toISOString().slice(0, 10),\n        retry\n      }\n    });\n  };\n\n  // 개별 카드에서 해당 문제만 다시\n  const retryOne = rec => {\n    const q = (QUESTIONS[rec.day] || []).find(qq => qq.id === rec.qid);\n    if (!q) return alert(\"원본 문제를 찾지 못했어요.\");\n    nav(`/exam/${rec.day}`, {\n      state: {\n        name: rec.name,\n        day: rec.day,\n        date: rec.date,\n        retry: [{\n          ...q\n        }]\n      }\n    });\n  };\n\n  // 점수 집계 (참고용)\n  const totalScore = filtered.reduce((s, r) => s + (r.score || 0), 0);\n  const totalChunks = filtered.reduce((s, r) => s + (r.totalChunks || 0), 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        maxWidth: 980\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \"\\uACB0\\uACFC (\\uC120\\uC0DD\\uB2D8\\uC6A9)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        style: {\n          gap: 10,\n          marginTop: 8,\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: nameFilter,\n          onChange: e => setNameFilter(e.target.value),\n          style: {\n            padding: 10,\n            borderRadius: 8,\n            border: \"1px solid #444\",\n            background: \"#111\",\n            color: \"#fff\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\uD559\\uC0DD \\uC804\\uCCB4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), nameOptions.map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: n,\n            children: n\n          }, n, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 35\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: dayFilter,\n          onChange: e => setDayFilter(e.target.value),\n          style: {\n            padding: 10,\n            borderRadius: 8,\n            border: \"1px solid #444\",\n            background: \"#111\",\n            color: \"#fff\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Day \\uC804\\uCCB4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), dayOptions.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: d,\n            children: String(d).toUpperCase()\n          }, d, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 34\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => nav(\"/\"),\n          children: \"\\uCC98\\uC74C\\uC73C\\uB85C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), nameFilter && dayFilter && masteryInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: 10\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 12,\n            flexWrap: \"wrap\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 700\n            },\n            children: [nameFilter, \" \\xB7 \", String(dayFilter).toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            children: [\"\\uD1B5\\uACFC \", masteryInfo.mastered, \"/\", masteryInfo.total, \" (\\uB0A8\\uC740 \\uC624\\uB2F5 \", masteryInfo.left, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"muted\",\n            children: [\"\\uC9C4\\uD589\\uB960 \", masteryInfo.pct, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), masteryInfo.done && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              padding: \"4px 10px\",\n              borderRadius: 999,\n              background: \"#22c55e22\",\n              border: \"1px solid #22c55e\",\n              color: \"#22c55e\",\n              fontWeight: 700\n            },\n            children: \"\\u2705 DAY \\uC644\\uB8CC \\uBC30\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn success\",\n            onClick: retryWrong,\n            children: \"\\uB0A8\\uC740 \\uC624\\uB2F5\\uB9CC \\uB2E4\\uC2DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"muted\",\n        style: {\n          marginTop: 10\n        },\n        children: [\"(\\uCC38\\uACE0) \\uC810\\uC218 \\uD569\\uACC4: \", totalScore, \" / \", totalChunks, totalChunks ? ` (${Math.round(totalScore / totalChunks * 100)}%)` : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), nameFilter && dayFilter && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700,\n            marginBottom: 6\n          },\n          children: [\"\\uB0A8\\uC740 \\uC624\\uB2F5 \\uBAA9\\uB85D (\", remainingWrong.length, \"\\uAC1C)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), remainingWrong.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"muted\",\n          children: \"\\uB0A8\\uC740 \\uC624\\uB2F5\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 10\n          },\n          children: remainingWrong.map(r => {\n            var _r$koChunks;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: \"1px solid #333\",\n                borderRadius: 10,\n                padding: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"muted\",\n                style: {\n                  marginBottom: 6\n                },\n                children: [\"Q\", r.qid, \" \\xB7 \", String(r.day).toUpperCase(), \" \\xB7 \", r.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: 6,\n                  fontWeight: 600\n                },\n                children: (_r$koChunks = r.koChunks) === null || _r$koChunks === void 0 ? void 0 : _r$koChunks.join(\" / \")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Tokens, {\n                  tokens: r.enChunks || [],\n                  wrongIdxs: r.wrongIdxs || []\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"nav\",\n                style: {\n                  marginTop: 8\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn primary\",\n                  onClick: () => retryOne(r),\n                  children: \"\\uC774 \\uBB38\\uC81C \\uB2E4\\uC2DC \\uB9D0\\uD558\\uAE30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 21\n              }, this)]\n            }, r.qid, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: !filtered.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: \"\\uD45C\\uC2DC\\uD560 \\uAE30\\uB85D\\uC774 \\uC5C6\\uC5B4\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this) : filtered.map(r => {\n          var _r$koChunks2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              marginBottom: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                marginBottom: 6\n              },\n              children: [r.name || \"학생\", \" \\xB7 \", r.date, \" \\xB7 \", String(r.day).toUpperCase(), \" \\xB7 Q\", r.qid]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginBottom: 6,\n                fontWeight: 600\n              },\n              children: (_r$koChunks2 = r.koChunks) === null || _r$koChunks2 === void 0 ? void 0 : _r$koChunks2.join(\" / \")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tokens, {\n              tokens: r.enChunks || [],\n              wrongIdxs: r.wrongIdxs || []\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"muted\",\n              style: {\n                marginTop: 6\n              },\n              children: [\"\\uC810\\uC218 \", r.score, \"/\", r.totalChunks]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this)]\n          }, r.ts, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n_s(Result, \"15Y7bQUCnWD3JD9HlxJQWuCKCk8=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c2 = Result;\nvar _c, _c2;\n$RefreshReg$(_c, \"Tokens\");\n$RefreshReg$(_c2, \"Result\");","map":{"version":3,"names":["React","useMemo","useState","useNavigate","useLocation","QUESTIONS","jsxDEV","_jsxDEV","MASTER_KEY","loadMastery","JSON","parse","localStorage","getItem","isMastered","name","day","qid","_db$keyName","db","keyName","keyDay","arr","includes","Tokens","tokens","wrongIdxs","style","display","lineHeight","children","map","t","i","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","Result","_s","nav","state","nameFilter","setNameFilter","dayFilter","setDayFilter","allRecords","nameOptions","Array","from","Set","r","filter","Boolean","sort","dayOptions","filtered","list","a","b","ts","remainingWrong","qs","qidSet","q","id","notMasteredQids","latestByQid","forEach","has","items","rec","find","qq","koChunks","enChunks","score","totalChunks","join","trim","split","length","user","masteryInfo","total","mastered","left","Math","max","pct","round","done","retryWrong","alert","retry","x","date","Date","toISOString","slice","retryOne","totalScore","reduce","s","maxWidth","gap","marginTop","flexWrap","value","onChange","e","target","padding","borderRadius","border","background","color","n","d","String","toUpperCase","flex","onClick","alignItems","fontWeight","marginBottom","flexDirection","_r$koChunks","_r$koChunks2","_c2","$RefreshReg$"],"sources":["/Users/evelynpark/Desktop/bell-day/src/pages/Records.js"],"sourcesContent":["// src/pages/Result.js\nimport React, { useMemo, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { QUESTIONS } from \"../data\";\n\n// ----- 통과(마스터) 저장소 -----\nconst MASTER_KEY = \"mastery_v1\";\nconst loadMastery = () => {\n  try { return JSON.parse(localStorage.getItem(MASTER_KEY) || \"{}\"); }\n  catch { return {}; }\n};\nconst isMastered = (name, day, qid) => {\n  const db = loadMastery();\n  const keyName = name || \"_anon\";\n  const keyDay = day || \"_day\";\n  const arr = db[keyName]?.[keyDay] || [];\n  return arr.includes(qid);\n};\n\n// ----- UI 토큰 렌더 -----\nconst Tokens = ({ tokens, wrongIdxs }) => (\n  <span style={{ display: \"inline-block\", lineHeight: \"1.9\" }}>\n    {tokens.map((t, i) =>\n      wrongIdxs.includes(i) ? (\n        <span key={i} className=\"word-bad\">{t}</span>\n      ) : (\n        <span key={i} className=\"word-ok\">{t}</span>\n      )\n    )}\n  </span>\n);\n\nexport default function Result() {\n  const nav = useNavigate();\n  const { state } = useLocation(); // { name?, day? }\n  const [nameFilter, setNameFilter] = useState(state?.name || \"\");\n  const [dayFilter, setDayFilter]   = useState(state?.day || \"\");\n\n  // 기록 로드\n  const allRecords = useMemo(() => {\n    try { return JSON.parse(localStorage.getItem(\"records\") || \"[]\"); }\n    catch { return []; }\n  }, []);\n\n  // 필터 옵션\n  const nameOptions = useMemo(() =>\n    Array.from(new Set(allRecords.map(r => r.name).filter(Boolean))).sort(),\n    [allRecords]\n  );\n  const dayOptions = useMemo(() =>\n    Array.from(new Set(allRecords.map(r => r.day).filter(Boolean))).sort(),\n    [allRecords]\n  );\n\n  // 필터 적용\n  const filtered = useMemo(() => {\n    const list = allRecords\n      .filter(r => (nameFilter ? r.name === nameFilter : true))\n      .filter(r => (dayFilter ? r.day === dayFilter : true))\n      .sort((a, b) => b.ts - a.ts);\n    return list;\n  }, [allRecords, nameFilter, dayFilter]);\n\n  // “선생님 입장 남은 오답” 계산:\n  // 같은 QID가 여러 기록에 있어도, “통과 성공”이면 오답 목록에서 제외.\n  const remainingWrong = useMemo(() => {\n    if (!nameFilter || !dayFilter) return [];\n    // 그 Day의 전체 문항 QID 목록\n    const qs = (QUESTIONS[dayFilter] || []);\n    const qidSet = new Set(qs.map(q => q.id));\n    // 해당 학생/Day의 “마스터되지 않은” QID만 남김\n    const notMasteredQids = Array.from(qidSet).filter(qid => !isMastered(nameFilter, dayFilter, qid));\n\n    // 그 QID들에 대한 최근 기록(있을 수도/없을 수도)\n    const latestByQid = {};\n    filtered.forEach(r => {\n      if (r.day !== dayFilter || r.name !== nameFilter) return;\n      if (!qidSet.has(r.qid)) return;\n      if (!latestByQid[r.qid] || r.ts > latestByQid[r.qid].ts) latestByQid[r.qid] = r;\n    });\n\n    // 아직 마스터 안 된 QID만 보여주기\n    const items = notMasteredQids.map(qid => {\n      const rec = latestByQid[qid];\n      if (rec) return rec; // 최근 기록이 있으면 그걸 사용(오답 표시 가능)\n      // 기록이 없다면 문제 원본만 준비\n      const q = qs.find(qq => qq.id === qid);\n      return q\n        ? {\n            name: nameFilter,\n            day: dayFilter,\n            qid,\n            koChunks: q.koChunks,\n            enChunks: q.enChunks,\n            wrongIdxs: q.enChunks.map(()=>0), // 표시용\n            score: 0,\n            totalChunks: q.enChunks.join(\" \").trim().split(/\\s+/).length,\n            user: \"\",\n            ts: 0,\n          }\n        : null;\n    }).filter(Boolean);\n\n    return items;\n  }, [filtered, nameFilter, dayFilter]);\n\n  // 통과률/배지\n  const masteryInfo = useMemo(() => {\n    if (!nameFilter || !dayFilter) return null;\n    const qs = QUESTIONS[dayFilter] || [];\n    const total = qs.length;\n    const mastered = qs.filter(q => isMastered(nameFilter, dayFilter, q.id)).length;\n    const left = Math.max(total - mastered, 0);\n    const pct = total ? Math.round((mastered / total) * 100) : 0;\n    return { mastered, total, left, pct, done: total > 0 && mastered === total };\n  }, [nameFilter, dayFilter]);\n\n  // 오답만 다시 말하기 (남은 오답 QID 기준)\n  const retryWrong = () => {\n    if (!nameFilter || !dayFilter) {\n      alert(\"학생과 Day를 먼저 선택하세요.\");\n      return;\n    }\n    if (!remainingWrong.length) {\n      alert(\"남은 오답이 없어요! (모두 통과)\");\n      return;\n    }\n    // 남은 오답 QID → 원본 문제로 재구성\n    const retry = remainingWrong.map(r => {\n      const qq = (QUESTIONS[dayFilter] || []).find(x => x.id === r.qid);\n      return qq ? { ...qq } : null;\n    }).filter(Boolean);\n\n    nav(`/exam/${dayFilter}`, {\n      state: {\n        name: nameFilter,\n        day: dayFilter,\n        date: new Date().toISOString().slice(0,10),\n        retry,\n      },\n    });\n  };\n\n  // 개별 카드에서 해당 문제만 다시\n  const retryOne = (rec) => {\n    const q = (QUESTIONS[rec.day] || []).find(qq => qq.id === rec.qid);\n    if (!q) return alert(\"원본 문제를 찾지 못했어요.\");\n    nav(`/exam/${rec.day}`, {\n      state: { name: rec.name, day: rec.day, date: rec.date, retry: [{ ...q }] },\n    });\n  };\n\n  // 점수 집계 (참고용)\n  const totalScore = filtered.reduce((s, r) => s + (r.score || 0), 0);\n  const totalChunks = filtered.reduce((s, r) => s + (r.totalChunks || 0), 0);\n\n  return (\n    <div className=\"container\">\n      <div className=\"card\" style={{ maxWidth: 980 }}>\n        <h1 className=\"title\">결과 (선생님용)</h1>\n\n        {/* 필터 */}\n        <div className=\"row\" style={{ gap: 10, marginTop: 8, flexWrap: \"wrap\" }}>\n          <select value={nameFilter} onChange={(e)=>setNameFilter(e.target.value)}\n            style={{ padding: 10, borderRadius: 8, border: \"1px solid #444\", background: \"#111\", color: \"#fff\" }}>\n            <option value=\"\">학생 전체</option>\n            {nameOptions.map(n => <option key={n} value={n}>{n}</option>)}\n          </select>\n          <select value={dayFilter} onChange={(e)=>setDayFilter(e.target.value)}\n            style={{ padding: 10, borderRadius: 8, border: \"1px solid #444\", background: \"#111\", color: \"#fff\" }}>\n            <option value=\"\">Day 전체</option>\n            {dayOptions.map(d => <option key={d} value={d}>{String(d).toUpperCase()}</option>)}\n          </select>\n          <div style={{ flex: 1 }} />\n          <button className=\"btn\" onClick={()=>nav(\"/\")}>처음으로</button>\n        </div>\n\n        {/* 상단 요약 / 배지 */}\n        {nameFilter && dayFilter && masteryInfo && (\n          <div className=\"card\" style={{ marginTop: 10 }}>\n            <div style={{ display: \"flex\", alignItems: \"center\", gap: 12, flexWrap: \"wrap\" }}>\n              <div style={{ fontWeight: 700 }}>\n                {nameFilter} · {String(dayFilter).toUpperCase()}\n              </div>\n              <div className=\"muted\">\n                통과 {masteryInfo.mastered}/{masteryInfo.total} (남은 오답 {masteryInfo.left})\n              </div>\n              <div className=\"muted\">\n                진행률 {masteryInfo.pct}%\n              </div>\n              {masteryInfo.done && (\n                <span style={{\n                  padding: \"4px 10px\",\n                  borderRadius: 999,\n                  background: \"#22c55e22\",\n                  border: \"1px solid #22c55e\",\n                  color: \"#22c55e\",\n                  fontWeight: 700\n                }}>\n                  ✅ DAY 완료 배지\n                </span>\n              )}\n              <div style={{ flex: 1 }} />\n              <button className=\"btn success\" onClick={retryWrong}>남은 오답만 다시</button>\n            </div>\n          </div>\n        )}\n\n        {/* 필터된 기록(최근순) 간단 합계 */}\n        <div className=\"muted\" style={{ marginTop: 10 }}>\n          (참고) 점수 합계: {totalScore} / {totalChunks}{totalChunks ? ` (${Math.round((totalScore/totalChunks)*100)}%)` : \"\"}\n        </div>\n\n        {/* 남은 오답 리스트 (선생님이 바로 확인) */}\n        {nameFilter && dayFilter && (\n          <div className=\"card\" style={{ marginTop: 12 }}>\n            <div style={{ fontWeight: 700, marginBottom: 6 }}>\n              남은 오답 목록 ({remainingWrong.length}개)\n            </div>\n            {remainingWrong.length === 0 ? (\n              <div className=\"muted\">남은 오답이 없어요.</div>\n            ) : (\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n                {remainingWrong.map((r) => (\n                  <div key={r.qid} style={{ border: \"1px solid #333\", borderRadius: 10, padding: 10 }}>\n                    <div className=\"muted\" style={{ marginBottom: 6 }}>\n                      Q{r.qid} · {String(r.day).toUpperCase()} · {r.name}\n                    </div>\n                    <div style={{ marginBottom: 6, fontWeight: 600 }}>\n                      {r.koChunks?.join(\" / \")}\n                    </div>\n                    <div>\n                      <Tokens tokens={r.enChunks || []} wrongIdxs={r.wrongIdxs || []} />\n                    </div>\n                    <div className=\"nav\" style={{ marginTop: 8 }}>\n                      <button className=\"btn primary\" onClick={()=>retryOne(r)}>이 문제 다시 말하기</button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* 일반 기록 리스트 (필터 반영, 최근순) */}\n        <div style={{ marginTop: 12 }}>\n          {!filtered.length ? (\n            <div className=\"card\">표시할 기록이 없어요.</div>\n          ) : (\n            filtered.map((r) => (\n              <div key={r.ts} className=\"card\" style={{ marginBottom: 10 }}>\n                <div className=\"muted\" style={{ marginBottom: 6 }}>\n                  {r.name || \"학생\"} · {r.date} · {String(r.day).toUpperCase()} · Q{r.qid}\n                </div>\n                <div style={{ marginBottom: 6, fontWeight: 600 }}>\n                  {r.koChunks?.join(\" / \")}\n                </div>\n                <Tokens tokens={r.enChunks || []} wrongIdxs={r.wrongIdxs || []} />\n                <div className=\"muted\" style={{ marginTop: 6 }}>\n                  점수 {r.score}/{r.totalChunks}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAChD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,SAAS,QAAQ,SAAS;;AAEnC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,UAAU,GAAG,YAAY;AAC/B,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACxB,IAAI;IAAE,OAAOC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACL,UAAU,CAAC,IAAI,IAAI,CAAC;EAAE,CAAC,CACpE,MAAM;IAAE,OAAO,CAAC,CAAC;EAAE;AACrB,CAAC;AACD,MAAMM,UAAU,GAAGA,CAACC,IAAI,EAAEC,GAAG,EAAEC,GAAG,KAAK;EAAA,IAAAC,WAAA;EACrC,MAAMC,EAAE,GAAGV,WAAW,CAAC,CAAC;EACxB,MAAMW,OAAO,GAAGL,IAAI,IAAI,OAAO;EAC/B,MAAMM,MAAM,GAAGL,GAAG,IAAI,MAAM;EAC5B,MAAMM,GAAG,GAAG,EAAAJ,WAAA,GAAAC,EAAE,CAACC,OAAO,CAAC,cAAAF,WAAA,uBAAXA,WAAA,CAAcG,MAAM,CAAC,KAAI,EAAE;EACvC,OAAOC,GAAG,CAACC,QAAQ,CAACN,GAAG,CAAC;AAC1B,CAAC;;AAED;AACA,MAAMO,MAAM,GAAGA,CAAC;EAAEC,MAAM;EAAEC;AAAU,CAAC,kBACnCnB,OAAA;EAAMoB,KAAK,EAAE;IAAEC,OAAO,EAAE,cAAc;IAAEC,UAAU,EAAE;EAAM,CAAE;EAAAC,QAAA,EACzDL,MAAM,CAACM,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC,KACfP,SAAS,CAACH,QAAQ,CAACU,CAAC,CAAC,gBACnB1B,OAAA;IAAc2B,SAAS,EAAC,UAAU;IAAAJ,QAAA,EAAEE;EAAC,GAA1BC,CAAC;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAgC,CAAC,gBAE7C/B,OAAA;IAAc2B,SAAS,EAAC,SAAS;IAAAJ,QAAA,EAAEE;EAAC,GAAzBC,CAAC;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAA+B,CAE/C;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACG,CACP;AAACC,EAAA,GAVIf,MAAM;AAYZ,eAAe,SAASgB,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC/B,MAAMC,GAAG,GAAGvC,WAAW,CAAC,CAAC;EACzB,MAAM;IAAEwC;EAAM,CAAC,GAAGvC,WAAW,CAAC,CAAC,CAAC,CAAC;EACjC,MAAM,CAACwC,UAAU,EAAEC,aAAa,CAAC,GAAG3C,QAAQ,CAAC,CAAAyC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE5B,IAAI,KAAI,EAAE,CAAC;EAC/D,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,GAAK7C,QAAQ,CAAC,CAAAyC,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAE3B,GAAG,KAAI,EAAE,CAAC;;EAE9D;EACA,MAAMgC,UAAU,GAAG/C,OAAO,CAAC,MAAM;IAC/B,IAAI;MAAE,OAAOS,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC;IAAE,CAAC,CACnE,MAAM;MAAE,OAAO,EAAE;IAAE;EACrB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMoC,WAAW,GAAGhD,OAAO,CAAC,MAC1BiD,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAACJ,UAAU,CAACjB,GAAG,CAACsB,CAAC,IAAIA,CAAC,CAACtC,IAAI,CAAC,CAACuC,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,EACvE,CAACR,UAAU,CACb,CAAC;EACD,MAAMS,UAAU,GAAGxD,OAAO,CAAC,MACzBiD,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAACJ,UAAU,CAACjB,GAAG,CAACsB,CAAC,IAAIA,CAAC,CAACrC,GAAG,CAAC,CAACsC,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,EACtE,CAACR,UAAU,CACb,CAAC;;EAED;EACA,MAAMU,QAAQ,GAAGzD,OAAO,CAAC,MAAM;IAC7B,MAAM0D,IAAI,GAAGX,UAAU,CACpBM,MAAM,CAACD,CAAC,IAAKT,UAAU,GAAGS,CAAC,CAACtC,IAAI,KAAK6B,UAAU,GAAG,IAAK,CAAC,CACxDU,MAAM,CAACD,CAAC,IAAKP,SAAS,GAAGO,CAAC,CAACrC,GAAG,KAAK8B,SAAS,GAAG,IAAK,CAAC,CACrDU,IAAI,CAAC,CAACI,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,EAAE,GAAGF,CAAC,CAACE,EAAE,CAAC;IAC9B,OAAOH,IAAI;EACb,CAAC,EAAE,CAACX,UAAU,EAAEJ,UAAU,EAAEE,SAAS,CAAC,CAAC;;EAEvC;EACA;EACA,MAAMiB,cAAc,GAAG9D,OAAO,CAAC,MAAM;IACnC,IAAI,CAAC2C,UAAU,IAAI,CAACE,SAAS,EAAE,OAAO,EAAE;IACxC;IACA,MAAMkB,EAAE,GAAI3D,SAAS,CAACyC,SAAS,CAAC,IAAI,EAAG;IACvC,MAAMmB,MAAM,GAAG,IAAIb,GAAG,CAACY,EAAE,CAACjC,GAAG,CAACmC,CAAC,IAAIA,CAAC,CAACC,EAAE,CAAC,CAAC;IACzC;IACA,MAAMC,eAAe,GAAGlB,KAAK,CAACC,IAAI,CAACc,MAAM,CAAC,CAACX,MAAM,CAACrC,GAAG,IAAI,CAACH,UAAU,CAAC8B,UAAU,EAAEE,SAAS,EAAE7B,GAAG,CAAC,CAAC;;IAEjG;IACA,MAAMoD,WAAW,GAAG,CAAC,CAAC;IACtBX,QAAQ,CAACY,OAAO,CAACjB,CAAC,IAAI;MACpB,IAAIA,CAAC,CAACrC,GAAG,KAAK8B,SAAS,IAAIO,CAAC,CAACtC,IAAI,KAAK6B,UAAU,EAAE;MAClD,IAAI,CAACqB,MAAM,CAACM,GAAG,CAAClB,CAAC,CAACpC,GAAG,CAAC,EAAE;MACxB,IAAI,CAACoD,WAAW,CAAChB,CAAC,CAACpC,GAAG,CAAC,IAAIoC,CAAC,CAACS,EAAE,GAAGO,WAAW,CAAChB,CAAC,CAACpC,GAAG,CAAC,CAAC6C,EAAE,EAAEO,WAAW,CAAChB,CAAC,CAACpC,GAAG,CAAC,GAAGoC,CAAC;IACjF,CAAC,CAAC;;IAEF;IACA,MAAMmB,KAAK,GAAGJ,eAAe,CAACrC,GAAG,CAACd,GAAG,IAAI;MACvC,MAAMwD,GAAG,GAAGJ,WAAW,CAACpD,GAAG,CAAC;MAC5B,IAAIwD,GAAG,EAAE,OAAOA,GAAG,CAAC,CAAC;MACrB;MACA,MAAMP,CAAC,GAAGF,EAAE,CAACU,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACR,EAAE,KAAKlD,GAAG,CAAC;MACtC,OAAOiD,CAAC,GACJ;QACEnD,IAAI,EAAE6B,UAAU;QAChB5B,GAAG,EAAE8B,SAAS;QACd7B,GAAG;QACH2D,QAAQ,EAAEV,CAAC,CAACU,QAAQ;QACpBC,QAAQ,EAAEX,CAAC,CAACW,QAAQ;QACpBnD,SAAS,EAAEwC,CAAC,CAACW,QAAQ,CAAC9C,GAAG,CAAC,MAAI,CAAC,CAAC;QAAE;QAClC+C,KAAK,EAAE,CAAC;QACRC,WAAW,EAAEb,CAAC,CAACW,QAAQ,CAACG,IAAI,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,KAAK,CAAC,CAACC,MAAM;QAC5DC,IAAI,EAAE,EAAE;QACRtB,EAAE,EAAE;MACN,CAAC,GACD,IAAI;IACV,CAAC,CAAC,CAACR,MAAM,CAACC,OAAO,CAAC;IAElB,OAAOiB,KAAK;EACd,CAAC,EAAE,CAACd,QAAQ,EAAEd,UAAU,EAAEE,SAAS,CAAC,CAAC;;EAErC;EACA,MAAMuC,WAAW,GAAGpF,OAAO,CAAC,MAAM;IAChC,IAAI,CAAC2C,UAAU,IAAI,CAACE,SAAS,EAAE,OAAO,IAAI;IAC1C,MAAMkB,EAAE,GAAG3D,SAAS,CAACyC,SAAS,CAAC,IAAI,EAAE;IACrC,MAAMwC,KAAK,GAAGtB,EAAE,CAACmB,MAAM;IACvB,MAAMI,QAAQ,GAAGvB,EAAE,CAACV,MAAM,CAACY,CAAC,IAAIpD,UAAU,CAAC8B,UAAU,EAAEE,SAAS,EAAEoB,CAAC,CAACC,EAAE,CAAC,CAAC,CAACgB,MAAM;IAC/E,MAAMK,IAAI,GAAGC,IAAI,CAACC,GAAG,CAACJ,KAAK,GAAGC,QAAQ,EAAE,CAAC,CAAC;IAC1C,MAAMI,GAAG,GAAGL,KAAK,GAAGG,IAAI,CAACG,KAAK,CAAEL,QAAQ,GAAGD,KAAK,GAAI,GAAG,CAAC,GAAG,CAAC;IAC5D,OAAO;MAAEC,QAAQ;MAAED,KAAK;MAAEE,IAAI;MAAEG,GAAG;MAAEE,IAAI,EAAEP,KAAK,GAAG,CAAC,IAAIC,QAAQ,KAAKD;IAAM,CAAC;EAC9E,CAAC,EAAE,CAAC1C,UAAU,EAAEE,SAAS,CAAC,CAAC;;EAE3B;EACA,MAAMgD,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAAClD,UAAU,IAAI,CAACE,SAAS,EAAE;MAC7BiD,KAAK,CAAC,oBAAoB,CAAC;MAC3B;IACF;IACA,IAAI,CAAChC,cAAc,CAACoB,MAAM,EAAE;MAC1BY,KAAK,CAAC,qBAAqB,CAAC;MAC5B;IACF;IACA;IACA,MAAMC,KAAK,GAAGjC,cAAc,CAAChC,GAAG,CAACsB,CAAC,IAAI;MACpC,MAAMsB,EAAE,GAAG,CAACtE,SAAS,CAACyC,SAAS,CAAC,IAAI,EAAE,EAAE4B,IAAI,CAACuB,CAAC,IAAIA,CAAC,CAAC9B,EAAE,KAAKd,CAAC,CAACpC,GAAG,CAAC;MACjE,OAAO0D,EAAE,GAAG;QAAE,GAAGA;MAAG,CAAC,GAAG,IAAI;IAC9B,CAAC,CAAC,CAACrB,MAAM,CAACC,OAAO,CAAC;IAElBb,GAAG,CAAC,SAASI,SAAS,EAAE,EAAE;MACxBH,KAAK,EAAE;QACL5B,IAAI,EAAE6B,UAAU;QAChB5B,GAAG,EAAE8B,SAAS;QACdoD,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC;QAC1CL;MACF;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMM,QAAQ,GAAI7B,GAAG,IAAK;IACxB,MAAMP,CAAC,GAAG,CAAC7D,SAAS,CAACoE,GAAG,CAACzD,GAAG,CAAC,IAAI,EAAE,EAAE0D,IAAI,CAACC,EAAE,IAAIA,EAAE,CAACR,EAAE,KAAKM,GAAG,CAACxD,GAAG,CAAC;IAClE,IAAI,CAACiD,CAAC,EAAE,OAAO6B,KAAK,CAAC,iBAAiB,CAAC;IACvCrD,GAAG,CAAC,SAAS+B,GAAG,CAACzD,GAAG,EAAE,EAAE;MACtB2B,KAAK,EAAE;QAAE5B,IAAI,EAAE0D,GAAG,CAAC1D,IAAI;QAAEC,GAAG,EAAEyD,GAAG,CAACzD,GAAG;QAAEkF,IAAI,EAAEzB,GAAG,CAACyB,IAAI;QAAEF,KAAK,EAAE,CAAC;UAAE,GAAG9B;QAAE,CAAC;MAAE;IAC3E,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMqC,UAAU,GAAG7C,QAAQ,CAAC8C,MAAM,CAAC,CAACC,CAAC,EAAEpD,CAAC,KAAKoD,CAAC,IAAIpD,CAAC,CAACyB,KAAK,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EACnE,MAAMC,WAAW,GAAGrB,QAAQ,CAAC8C,MAAM,CAAC,CAACC,CAAC,EAAEpD,CAAC,KAAKoD,CAAC,IAAIpD,CAAC,CAAC0B,WAAW,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAE1E,oBACExE,OAAA;IAAK2B,SAAS,EAAC,WAAW;IAAAJ,QAAA,eACxBvB,OAAA;MAAK2B,SAAS,EAAC,MAAM;MAACP,KAAK,EAAE;QAAE+E,QAAQ,EAAE;MAAI,CAAE;MAAA5E,QAAA,gBAC7CvB,OAAA;QAAI2B,SAAS,EAAC,OAAO;QAAAJ,QAAA,EAAC;MAAS;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGpC/B,OAAA;QAAK2B,SAAS,EAAC,KAAK;QAACP,KAAK,EAAE;UAAEgF,GAAG,EAAE,EAAE;UAAEC,SAAS,EAAE,CAAC;UAAEC,QAAQ,EAAE;QAAO,CAAE;QAAA/E,QAAA,gBACtEvB,OAAA;UAAQuG,KAAK,EAAElE,UAAW;UAACmE,QAAQ,EAAGC,CAAC,IAAGnE,aAAa,CAACmE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACtEnF,KAAK,EAAE;YAAEuF,OAAO,EAAE,EAAE;YAAEC,YAAY,EAAE,CAAC;YAAEC,MAAM,EAAE,gBAAgB;YAAEC,UAAU,EAAE,MAAM;YAAEC,KAAK,EAAE;UAAO,CAAE;UAAAxF,QAAA,gBACrGvB,OAAA;YAAQuG,KAAK,EAAC,EAAE;YAAAhF,QAAA,EAAC;UAAK;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC9BW,WAAW,CAAClB,GAAG,CAACwF,CAAC,iBAAIhH,OAAA;YAAgBuG,KAAK,EAAES,CAAE;YAAAzF,QAAA,EAAEyF;UAAC,GAAfA,CAAC;YAAApF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAuB,CAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eACT/B,OAAA;UAAQuG,KAAK,EAAEhE,SAAU;UAACiE,QAAQ,EAAGC,CAAC,IAAGjE,YAAY,CAACiE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACpEnF,KAAK,EAAE;YAAEuF,OAAO,EAAE,EAAE;YAAEC,YAAY,EAAE,CAAC;YAAEC,MAAM,EAAE,gBAAgB;YAAEC,UAAU,EAAE,MAAM;YAAEC,KAAK,EAAE;UAAO,CAAE;UAAAxF,QAAA,gBACrGvB,OAAA;YAAQuG,KAAK,EAAC,EAAE;YAAAhF,QAAA,EAAC;UAAM;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EAC/BmB,UAAU,CAAC1B,GAAG,CAACyF,CAAC,iBAAIjH,OAAA;YAAgBuG,KAAK,EAAEU,CAAE;YAAA1F,QAAA,EAAE2F,MAAM,CAACD,CAAC,CAAC,CAACE,WAAW,CAAC;UAAC,GAArCF,CAAC;YAAArF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAA6C,CAAC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5E,CAAC,eACT/B,OAAA;UAAKoB,KAAK,EAAE;YAAEgG,IAAI,EAAE;UAAE;QAAE;UAAAxF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC3B/B,OAAA;UAAQ2B,SAAS,EAAC,KAAK;UAAC0F,OAAO,EAAEA,CAAA,KAAIlF,GAAG,CAAC,GAAG,CAAE;UAAAZ,QAAA,EAAC;QAAI;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,EAGLM,UAAU,IAAIE,SAAS,IAAIuC,WAAW,iBACrC9E,OAAA;QAAK2B,SAAS,EAAC,MAAM;QAACP,KAAK,EAAE;UAAEiF,SAAS,EAAE;QAAG,CAAE;QAAA9E,QAAA,eAC7CvB,OAAA;UAAKoB,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEiG,UAAU,EAAE,QAAQ;YAAElB,GAAG,EAAE,EAAE;YAAEE,QAAQ,EAAE;UAAO,CAAE;UAAA/E,QAAA,gBAC/EvB,OAAA;YAAKoB,KAAK,EAAE;cAAEmG,UAAU,EAAE;YAAI,CAAE;YAAAhG,QAAA,GAC7Bc,UAAU,EAAC,QAAG,EAAC6E,MAAM,CAAC3E,SAAS,CAAC,CAAC4E,WAAW,CAAC,CAAC;UAAA;YAAAvF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC,eACN/B,OAAA;YAAK2B,SAAS,EAAC,OAAO;YAAAJ,QAAA,GAAC,eAClB,EAACuD,WAAW,CAACE,QAAQ,EAAC,GAAC,EAACF,WAAW,CAACC,KAAK,EAAC,8BAAQ,EAACD,WAAW,CAACG,IAAI,EAAC,GACzE;UAAA;YAAArD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACN/B,OAAA;YAAK2B,SAAS,EAAC,OAAO;YAAAJ,QAAA,GAAC,qBACjB,EAACuD,WAAW,CAACM,GAAG,EAAC,GACvB;UAAA;YAAAxD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EACL+C,WAAW,CAACQ,IAAI,iBACftF,OAAA;YAAMoB,KAAK,EAAE;cACXuF,OAAO,EAAE,UAAU;cACnBC,YAAY,EAAE,GAAG;cACjBE,UAAU,EAAE,WAAW;cACvBD,MAAM,EAAE,mBAAmB;cAC3BE,KAAK,EAAE,SAAS;cAChBQ,UAAU,EAAE;YACd,CAAE;YAAAhG,QAAA,EAAC;UAEH;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CACP,eACD/B,OAAA;YAAKoB,KAAK,EAAE;cAAEgG,IAAI,EAAE;YAAE;UAAE;YAAAxF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC3B/B,OAAA;YAAQ2B,SAAS,EAAC,aAAa;YAAC0F,OAAO,EAAE9B,UAAW;YAAAhE,QAAA,EAAC;UAAS;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAGD/B,OAAA;QAAK2B,SAAS,EAAC,OAAO;QAACP,KAAK,EAAE;UAAEiF,SAAS,EAAE;QAAG,CAAE;QAAA9E,QAAA,GAAC,4CACnC,EAACyE,UAAU,EAAC,KAAG,EAACxB,WAAW,EAAEA,WAAW,GAAG,KAAKU,IAAI,CAACG,KAAK,CAAEW,UAAU,GAACxB,WAAW,GAAE,GAAG,CAAC,IAAI,GAAG,EAAE;MAAA;QAAA5C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1G,CAAC,EAGLM,UAAU,IAAIE,SAAS,iBACtBvC,OAAA;QAAK2B,SAAS,EAAC,MAAM;QAACP,KAAK,EAAE;UAAEiF,SAAS,EAAE;QAAG,CAAE;QAAA9E,QAAA,gBAC7CvB,OAAA;UAAKoB,KAAK,EAAE;YAAEmG,UAAU,EAAE,GAAG;YAAEC,YAAY,EAAE;UAAE,CAAE;UAAAjG,QAAA,GAAC,0CACtC,EAACiC,cAAc,CAACoB,MAAM,EAAC,SACnC;QAAA;UAAAhD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACLyB,cAAc,CAACoB,MAAM,KAAK,CAAC,gBAC1B5E,OAAA;UAAK2B,SAAS,EAAC,OAAO;UAAAJ,QAAA,EAAC;QAAW;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,gBAExC/B,OAAA;UAAKoB,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEoG,aAAa,EAAE,QAAQ;YAAErB,GAAG,EAAE;UAAG,CAAE;UAAA7E,QAAA,EAC/DiC,cAAc,CAAChC,GAAG,CAAEsB,CAAC;YAAA,IAAA4E,WAAA;YAAA,oBACpB1H,OAAA;cAAiBoB,KAAK,EAAE;gBAAEyF,MAAM,EAAE,gBAAgB;gBAAED,YAAY,EAAE,EAAE;gBAAED,OAAO,EAAE;cAAG,CAAE;cAAApF,QAAA,gBAClFvB,OAAA;gBAAK2B,SAAS,EAAC,OAAO;gBAACP,KAAK,EAAE;kBAAEoG,YAAY,EAAE;gBAAE,CAAE;gBAAAjG,QAAA,GAAC,GAChD,EAACuB,CAAC,CAACpC,GAAG,EAAC,QAAG,EAACwG,MAAM,CAACpE,CAAC,CAACrC,GAAG,CAAC,CAAC0G,WAAW,CAAC,CAAC,EAAC,QAAG,EAACrE,CAAC,CAACtC,IAAI;cAAA;gBAAAoB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/C,CAAC,eACN/B,OAAA;gBAAKoB,KAAK,EAAE;kBAAEoG,YAAY,EAAE,CAAC;kBAAED,UAAU,EAAE;gBAAI,CAAE;gBAAAhG,QAAA,GAAAmG,WAAA,GAC9C5E,CAAC,CAACuB,QAAQ,cAAAqD,WAAA,uBAAVA,WAAA,CAAYjD,IAAI,CAAC,KAAK;cAAC;gBAAA7C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB,CAAC,eACN/B,OAAA;gBAAAuB,QAAA,eACEvB,OAAA,CAACiB,MAAM;kBAACC,MAAM,EAAE4B,CAAC,CAACwB,QAAQ,IAAI,EAAG;kBAACnD,SAAS,EAAE2B,CAAC,CAAC3B,SAAS,IAAI;gBAAG;kBAAAS,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/D,CAAC,eACN/B,OAAA;gBAAK2B,SAAS,EAAC,KAAK;gBAACP,KAAK,EAAE;kBAAEiF,SAAS,EAAE;gBAAE,CAAE;gBAAA9E,QAAA,eAC3CvB,OAAA;kBAAQ2B,SAAS,EAAC,aAAa;kBAAC0F,OAAO,EAAEA,CAAA,KAAItB,QAAQ,CAACjD,CAAC,CAAE;kBAAAvB,QAAA,EAAC;gBAAW;kBAAAK,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3E,CAAC;YAAA,GAZEe,CAAC,CAACpC,GAAG;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAaV,CAAC;UAAA,CACP;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,eAGD/B,OAAA;QAAKoB,KAAK,EAAE;UAAEiF,SAAS,EAAE;QAAG,CAAE;QAAA9E,QAAA,EAC3B,CAAC4B,QAAQ,CAACyB,MAAM,gBACf5E,OAAA;UAAK2B,SAAS,EAAC,MAAM;UAAAJ,QAAA,EAAC;QAAY;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,GAExCoB,QAAQ,CAAC3B,GAAG,CAAEsB,CAAC;UAAA,IAAA6E,YAAA;UAAA,oBACb3H,OAAA;YAAgB2B,SAAS,EAAC,MAAM;YAACP,KAAK,EAAE;cAAEoG,YAAY,EAAE;YAAG,CAAE;YAAAjG,QAAA,gBAC3DvB,OAAA;cAAK2B,SAAS,EAAC,OAAO;cAACP,KAAK,EAAE;gBAAEoG,YAAY,EAAE;cAAE,CAAE;cAAAjG,QAAA,GAC/CuB,CAAC,CAACtC,IAAI,IAAI,IAAI,EAAC,QAAG,EAACsC,CAAC,CAAC6C,IAAI,EAAC,QAAG,EAACuB,MAAM,CAACpE,CAAC,CAACrC,GAAG,CAAC,CAAC0G,WAAW,CAAC,CAAC,EAAC,SAAI,EAACrE,CAAC,CAACpC,GAAG;YAAA;cAAAkB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClE,CAAC,eACN/B,OAAA;cAAKoB,KAAK,EAAE;gBAAEoG,YAAY,EAAE,CAAC;gBAAED,UAAU,EAAE;cAAI,CAAE;cAAAhG,QAAA,GAAAoG,YAAA,GAC9C7E,CAAC,CAACuB,QAAQ,cAAAsD,YAAA,uBAAVA,YAAA,CAAYlD,IAAI,CAAC,KAAK;YAAC;cAAA7C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACN/B,OAAA,CAACiB,MAAM;cAACC,MAAM,EAAE4B,CAAC,CAACwB,QAAQ,IAAI,EAAG;cAACnD,SAAS,EAAE2B,CAAC,CAAC3B,SAAS,IAAI;YAAG;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClE/B,OAAA;cAAK2B,SAAS,EAAC,OAAO;cAACP,KAAK,EAAE;gBAAEiF,SAAS,EAAE;cAAE,CAAE;cAAA9E,QAAA,GAAC,eAC3C,EAACuB,CAAC,CAACyB,KAAK,EAAC,GAAC,EAACzB,CAAC,CAAC0B,WAAW;YAAA;cAAA5C,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC;UAAA,GAVEe,CAAC,CAACS,EAAE;YAAA3B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAWT,CAAC;QAAA,CACP;MACF;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACG,EAAA,CA5OuBD,MAAM;EAAA,QAChBrC,WAAW,EACLC,WAAW;AAAA;AAAA+H,GAAA,GAFP3F,MAAM;AAAA,IAAAD,EAAA,EAAA4F,GAAA;AAAAC,YAAA,CAAA7F,EAAA;AAAA6F,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}